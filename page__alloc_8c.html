<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SuepOS: page_alloc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SuepOS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">page_alloc.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="kernel__func_8h_source.html">kernel_func.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mem__info_8h_source.html">mem_info.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for page_alloc.c:</div>
<div class="dyncontent">
<div class="center"><img src="page__alloc_8c__incl.png" border="0" usemap="#apage__alloc_8c" alt=""/></div>
<map name="apage__alloc_8c" id="apage__alloc_8c">
<area shape="rect" title=" " alt="" coords="105,5,208,31"/>
<area shape="rect" href="kernel__func_8h.html" title=" " alt="" coords="102,152,211,177"/>
<area shape="poly" title=" " alt="" coords="154,32,144,64,141,84,142,104,150,138,145,139,137,104,136,84,139,63,149,30"/>
<area shape="rect" href="mem__info_8h.html" title=" " alt="" coords="151,79,251,104"/>
<area shape="poly" title=" " alt="" coords="166,30,189,66,184,68,162,32"/>
<area shape="rect" href="type_8h.html" title=" " alt="" coords="5,225,68,251"/>
<area shape="poly" title=" " alt="" coords="139,180,70,220,67,216,136,175"/>
<area shape="rect" href="hardware__conf_8h.html" title=" " alt="" coords="92,225,221,251"/>
<area shape="poly" title=" " alt="" coords="159,178,159,212,154,212,154,178"/>
<area shape="rect" title=" " alt="" coords="246,225,321,251"/>
<area shape="poly" title=" " alt="" coords="178,175,252,216,249,221,176,180"/>
<area shape="poly" title=" " alt="" coords="196,106,173,142,169,139,191,103"/>
</map>
</div>
</div>
<p><a href="page__alloc_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a86258448e00d497b7de4d2551eb0337e" id="r_a86258448e00d497b7de4d2551eb0337e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page__alloc_8c.html#a86258448e00d497b7de4d2551eb0337e">page_clear</a> (<a class="el" href="structPage.html">Page</a> *page)</td></tr>
<tr class="separator:a86258448e00d497b7de4d2551eb0337e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5a8fe74f6224563d792007d975101fd" id="r_ae5a8fe74f6224563d792007d975101fd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page__alloc_8c.html#ae5a8fe74f6224563d792007d975101fd">page_is_available</a> (<a class="el" href="structPage.html">Page</a> *page)</td></tr>
<tr class="separator:ae5a8fe74f6224563d792007d975101fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb4fee457ae8d9e5682a60a7456eeac2" id="r_adb4fee457ae8d9e5682a60a7456eeac2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page__alloc_8c.html#adb4fee457ae8d9e5682a60a7456eeac2">page_set_flag</a> (<a class="el" href="structPage.html">Page</a> *page, <a class="el" href="type_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> flag)</td></tr>
<tr class="separator:adb4fee457ae8d9e5682a60a7456eeac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b025a749f771f928c97f4687597c43" id="r_a46b025a749f771f928c97f4687597c43"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page__alloc_8c.html#a46b025a749f771f928c97f4687597c43">page_is_last</a> (<a class="el" href="structPage.html">Page</a> *page)</td></tr>
<tr class="separator:a46b025a749f771f928c97f4687597c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae777299bc9cfe52cd900a1e9f9174c31" id="r_ae777299bc9cfe52cd900a1e9f9174c31"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="type_8h.html#a1b4033e498798170b7cb61e7130fd344">ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page__alloc_8c.html#ae777299bc9cfe52cd900a1e9f9174c31">align_page</a> (<a class="el" href="type_8h.html#a1b4033e498798170b7cb61e7130fd344">ptr</a> addr)</td></tr>
<tr class="separator:ae777299bc9cfe52cd900a1e9f9174c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55706c3dd664e8e40844daa53b8cb41c" id="r_a55706c3dd664e8e40844daa53b8cb41c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page__alloc_8c.html#a55706c3dd664e8e40844daa53b8cb41c">init_page_allocator</a> ()</td></tr>
<tr class="separator:a55706c3dd664e8e40844daa53b8cb41c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a785185764a5d4a0397d3bb22088ae63a" id="r_a785185764a5d4a0397d3bb22088ae63a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page__alloc_8c.html#a785185764a5d4a0397d3bb22088ae63a">page_alloc</a> (int npages)</td></tr>
<tr class="separator:a785185764a5d4a0397d3bb22088ae63a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51700bb14c8e5dbe0fd489427a8b6588" id="r_a51700bb14c8e5dbe0fd489427a8b6588"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page__alloc_8c.html#a51700bb14c8e5dbe0fd489427a8b6588">page_free</a> (void *p)</td></tr>
<tr class="separator:a51700bb14c8e5dbe0fd489427a8b6588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac685d2b152de084be0cdab2e82f0e99d" id="r_ac685d2b152de084be0cdab2e82f0e99d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page__alloc_8c.html#ac685d2b152de084be0cdab2e82f0e99d">page_test</a> ()</td></tr>
<tr class="separator:ac685d2b152de084be0cdab2e82f0e99d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae777299bc9cfe52cd900a1e9f9174c31" name="ae777299bc9cfe52cd900a1e9f9174c31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae777299bc9cfe52cd900a1e9f9174c31">&#9670;&#160;</a></span>align_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="type_8h.html#a1b4033e498798170b7cb61e7130fd344">ptr</a> align_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="type_8h.html#a1b4033e498798170b7cb61e7130fd344">ptr</a>&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="page__alloc_8c_source.html#l00021">21</a> of file <a class="el" href="page__alloc_8c_source.html">page_alloc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   21</span>                                       {</div>
<div class="line"><span class="lineno">   22</span>    <span class="keywordflow">return</span> (addr + <a class="code hl_define" href="mem__info_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a> - 1) &amp; ~(<a class="code hl_define" href="mem__info_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a> - 1);</div>
<div class="line"><span class="lineno">   23</span>}</div>
<div class="ttc" id="amem__info_8h_html_a7d467c1d283fdfa1f2081ba1e0d01b6e"><div class="ttname"><a href="mem__info_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a></div><div class="ttdeci">#define PAGE_SIZE</div><div class="ttdef"><b>Definition</b> <a href="mem__info_8h_source.html#l00004">mem_info.h:4</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__alloc_8c_ae777299bc9cfe52cd900a1e9f9174c31_icgraph.png" border="0" usemap="#apage__alloc_8c_ae777299bc9cfe52cd900a1e9f9174c31_icgraph" alt=""/></div>
<map name="apage__alloc_8c_ae777299bc9cfe52cd900a1e9f9174c31_icgraph" id="apage__alloc_8c_ae777299bc9cfe52cd900a1e9f9174c31_icgraph">
<area shape="rect" title=" " alt="" coords="347,5,440,31"/>
<area shape="rect" href="page__alloc_8c.html#a55706c3dd664e8e40844daa53b8cb41c" title=" " alt="" coords="152,5,299,31"/>
<area shape="poly" title=" " alt="" coords="333,21,299,21,299,15,333,15"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,5,104,31"/>
<area shape="poly" title=" " alt="" coords="138,21,104,21,104,15,138,15"/>
</map>
</div>

</div>
</div>
<a id="a55706c3dd664e8e40844daa53b8cb41c" name="a55706c3dd664e8e40844daa53b8cb41c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55706c3dd664e8e40844daa53b8cb41c">&#9670;&#160;</a></span>init_page_allocator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_page_allocator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="page__alloc_8c_source.html#l00027">27</a> of file <a class="el" href="page__alloc_8c_source.html">page_alloc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   27</span>                           {</div>
<div class="line"><span class="lineno">   28</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Initializing page allocator...\n&quot;</span>);</div>
<div class="line"><span class="lineno">   29</span>    </div>
<div class="line"><span class="lineno">   30</span>    <a class="code hl_typedef" href="type_8h.html#a1b4033e498798170b7cb61e7130fd344">ptr</a> heap_start_aligned = <a class="code hl_function" href="page__alloc_8c.html#ae777299bc9cfe52cd900a1e9f9174c31">align_page</a>((<a class="code hl_typedef" href="type_8h.html#a1b4033e498798170b7cb61e7130fd344">ptr</a>)<a class="code hl_variable" href="mem__info_8h.html#a710ef7a22870373793dd36e498ac9fe2">HEAP_ENTRY</a>);</div>
<div class="line"><span class="lineno">   31</span>    <a class="code hl_typedef" href="type_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> available_heap_size = <a class="code hl_variable" href="mem__info_8h.html#a1a59ef9f561f8d5b3719f86736c727c0">HEAP_END</a> - heap_start_aligned;</div>
<div class="line"><span class="lineno">   32</span>    </div>
<div class="line"><span class="lineno">   33</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Heap start: %x\n&quot;</span>, <a class="code hl_variable" href="mem__info_8h.html#a710ef7a22870373793dd36e498ac9fe2">HEAP_ENTRY</a>);</div>
<div class="line"><span class="lineno">   34</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Heap end: %x\n&quot;</span>, <a class="code hl_variable" href="mem__info_8h.html#a1a59ef9f561f8d5b3719f86736c727c0">HEAP_END</a>);</div>
<div class="line"><span class="lineno">   35</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Available heap size: %d bytes\n&quot;</span>, available_heap_size);</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span> </div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>    <span class="comment">// Calculate the size needed for page descriptors:</span></div>
<div class="line"><span class="lineno">   41</span>    <a class="code hl_typedef" href="type_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> page_descriptor_size = (available_heap_size / <a class="code hl_define" href="mem__info_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>) * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code hl_struct" href="structPage.html">Page</a>);</div>
<div class="line"><span class="lineno">   42</span>    <a class="code hl_typedef" href="type_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> num_reserved_pages = (page_descriptor_size + <a class="code hl_define" href="mem__info_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a> - 1) / <a class="code hl_define" href="mem__info_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>;</div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Reserving %d pages for page descriptors (%d bytes)\n&quot;</span>, num_reserved_pages, page_descriptor_size);</div>
<div class="line"><span class="lineno">   44</span>    </div>
<div class="line"><span class="lineno">   45</span>    <span class="comment">// Calculate the number of pages available for allocation after reserving space for page descriptors</span></div>
<div class="line"><span class="lineno">   46</span>    <a class="code hl_variable" href="mem__info_8h.html#a160257561813236c1f9421eaf7e0728d">ALLOCATE_PAGES</a> = (available_heap_size - num_reserved_pages * <a class="code hl_define" href="mem__info_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>) / <a class="code hl_define" href="mem__info_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>;</div>
<div class="line"><span class="lineno">   47</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Total available pages for allocation: %d\n&quot;</span>, <a class="code hl_variable" href="mem__info_8h.html#a160257561813236c1f9421eaf7e0728d">ALLOCATE_PAGES</a>);</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>    <span class="comment">// Initialize ALL page descriptors (including those used for the descriptors themselves)</span></div>
<div class="line"><span class="lineno">   50</span>    <a class="code hl_typedef" href="type_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> total_pages = available_heap_size / <a class="code hl_define" href="mem__info_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>;</div>
<div class="line"><span class="lineno">   51</span>    <a class="code hl_struct" href="structPage.html">Page</a>* pages_array = (<a class="code hl_struct" href="structPage.html">Page</a>*)heap_start_aligned;</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="type_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> i = 0; i &lt; total_pages; i++) {</div>
<div class="line"><span class="lineno">   54</span>        <a class="code hl_function" href="page__alloc_8c.html#a86258448e00d497b7de4d2551eb0337e">page_clear</a>(&amp;pages_array[i]);</div>
<div class="line"><span class="lineno">   55</span>        </div>
<div class="line"><span class="lineno">   56</span>        <span class="comment">// Mark pages used for page descriptors as used (since we don&#39;t have PAGE_RESERVED)</span></div>
<div class="line"><span class="lineno">   57</span>        <span class="keywordflow">if</span> (i &lt; num_reserved_pages) {</div>
<div class="line"><span class="lineno">   58</span>            pages_array[i].<a class="code hl_variable" href="structPage.html#afa4c5b06bb7768b09dfbdc636dc62aad">flags</a> |= <a class="code hl_define" href="mem__info_8h.html#ae4921c2a0bdf278cdaf887404043f137">PAGE_IS_USED</a>;</div>
<div class="line"><span class="lineno">   59</span>        }</div>
<div class="line"><span class="lineno">   60</span>    }</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>    <a class="code hl_variable" href="mem__info_8h.html#a4ebf7767a50414078aae64f8f198203c">ALLOCATE_START</a> = heap_start_aligned + num_reserved_pages * <a class="code hl_define" href="mem__info_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>;</div>
<div class="line"><span class="lineno">   63</span>    <a class="code hl_variable" href="mem__info_8h.html#ab3ffc42a642d02b6b6cb458902c0bde8">ALLOCATE_END</a> = <a class="code hl_variable" href="mem__info_8h.html#a4ebf7767a50414078aae64f8f198203c">ALLOCATE_START</a> + <a class="code hl_variable" href="mem__info_8h.html#a160257561813236c1f9421eaf7e0728d">ALLOCATE_PAGES</a> * <a class="code hl_define" href="mem__info_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>;</div>
<div class="line"><span class="lineno">   64</span>    </div>
<div class="line"><span class="lineno">   65</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Debug - TEXT_ENTRY: %p\n&quot;</span>, <a class="code hl_variable" href="mem__info_8h.html#acff51aab7f02fef4e9e7f6fabe269a49">TEXT_ENTRY</a>);</div>
<div class="line"><span class="lineno">   66</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Debug - TEXT_END: %p\n&quot;</span>, <a class="code hl_variable" href="mem__info_8h.html#a39ef1f1a3eb475e4c36261f672b2b7ed">TEXT_END</a>);</div>
<div class="line"><span class="lineno">   67</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Debug - HEAP_ENTRY: %p\n&quot;</span>, <a class="code hl_variable" href="mem__info_8h.html#a710ef7a22870373793dd36e498ac9fe2">HEAP_ENTRY</a>);</div>
<div class="line"><span class="lineno">   68</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Debug - HEAP_END: %p\n&quot;</span>, <a class="code hl_variable" href="mem__info_8h.html#a1a59ef9f561f8d5b3719f86736c727c0">HEAP_END</a>);</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;TEXT:    0x%x -&gt; 0x%x\n&quot;</span>, <a class="code hl_variable" href="mem__info_8h.html#acff51aab7f02fef4e9e7f6fabe269a49">TEXT_ENTRY</a>, (<a class="code hl_typedef" href="type_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code hl_variable" href="mem__info_8h.html#a39ef1f1a3eb475e4c36261f672b2b7ed">TEXT_END</a>);</div>
<div class="line"><span class="lineno">   71</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;RODATA:  0x%x -&gt; 0x%x\n&quot;</span>, <a class="code hl_variable" href="mem__info_8h.html#ac287c0047479d7f4f30cc9ced5a65e34">RODATA_ENTRY</a>, (<a class="code hl_typedef" href="type_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code hl_variable" href="mem__info_8h.html#a9eeab01e8c64c27c11d8026939132ad7">RODATA_END</a>);</div>
<div class="line"><span class="lineno">   72</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;DATA:    0x%x -&gt; 0x%x\n&quot;</span>, (<a class="code hl_typedef" href="type_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code hl_variable" href="mem__info_8h.html#ac098967cd0f0258a720ce0056fdcbd16">DATA_ENTRY</a>, (<a class="code hl_typedef" href="type_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code hl_variable" href="mem__info_8h.html#a183bb5baccebc7382357600863d29c0e">DATA_END</a>);</div>
<div class="line"><span class="lineno">   73</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;BSS:     0x%x -&gt; 0x%x\n&quot;</span>, (<a class="code hl_typedef" href="type_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code hl_variable" href="mem__info_8h.html#abd2982c036e662020628bba0809aaa1b">BSS_ENTRY</a>, (<a class="code hl_typedef" href="type_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code hl_variable" href="mem__info_8h.html#a547ee896cf1bc026568084fe35757dda">BSS_END</a>);</div>
<div class="line"><span class="lineno">   74</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;HEAP:    0x%x -&gt; 0x%x\n&quot;</span>, (<a class="code hl_typedef" href="type_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code hl_variable" href="mem__info_8h.html#a710ef7a22870373793dd36e498ac9fe2">HEAP_ENTRY</a>, (<a class="code hl_typedef" href="type_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)<a class="code hl_variable" href="mem__info_8h.html#a1a59ef9f561f8d5b3719f86736c727c0">HEAP_END</a>);</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Page allocator initialized.\n&quot;</span>);</div>
<div class="line"><span class="lineno">   78</span>}</div>
<div class="ttc" id="akernel__func_8h_html_a35a7eca18d1cb9276ea9e446617f044a"><div class="ttname"><a href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a></div><div class="ttdeci">void mini_printf(const char *fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="uart0_8c_source.html#l00099">uart0.c:99</a></div></div>
<div class="ttc" id="amem__info_8h_html_a160257561813236c1f9421eaf7e0728d"><div class="ttname"><a href="mem__info_8h.html#a160257561813236c1f9421eaf7e0728d">ALLOCATE_PAGES</a></div><div class="ttdeci">static uint32_t ALLOCATE_PAGES</div><div class="ttdef"><b>Definition</b> <a href="mem__info_8h_source.html#l00026">mem_info.h:26</a></div></div>
<div class="ttc" id="amem__info_8h_html_a183bb5baccebc7382357600863d29c0e"><div class="ttname"><a href="mem__info_8h.html#a183bb5baccebc7382357600863d29c0e">DATA_END</a></div><div class="ttdeci">ptr DATA_END</div></div>
<div class="ttc" id="amem__info_8h_html_a1a59ef9f561f8d5b3719f86736c727c0"><div class="ttname"><a href="mem__info_8h.html#a1a59ef9f561f8d5b3719f86736c727c0">HEAP_END</a></div><div class="ttdeci">ptr HEAP_END</div></div>
<div class="ttc" id="amem__info_8h_html_a39ef1f1a3eb475e4c36261f672b2b7ed"><div class="ttname"><a href="mem__info_8h.html#a39ef1f1a3eb475e4c36261f672b2b7ed">TEXT_END</a></div><div class="ttdeci">ptr TEXT_END</div></div>
<div class="ttc" id="amem__info_8h_html_a4ebf7767a50414078aae64f8f198203c"><div class="ttname"><a href="mem__info_8h.html#a4ebf7767a50414078aae64f8f198203c">ALLOCATE_START</a></div><div class="ttdeci">static ptr ALLOCATE_START</div><div class="ttdef"><b>Definition</b> <a href="mem__info_8h_source.html#l00024">mem_info.h:24</a></div></div>
<div class="ttc" id="amem__info_8h_html_a547ee896cf1bc026568084fe35757dda"><div class="ttname"><a href="mem__info_8h.html#a547ee896cf1bc026568084fe35757dda">BSS_END</a></div><div class="ttdeci">ptr BSS_END</div></div>
<div class="ttc" id="amem__info_8h_html_a710ef7a22870373793dd36e498ac9fe2"><div class="ttname"><a href="mem__info_8h.html#a710ef7a22870373793dd36e498ac9fe2">HEAP_ENTRY</a></div><div class="ttdeci">ptr HEAP_ENTRY</div></div>
<div class="ttc" id="amem__info_8h_html_a9eeab01e8c64c27c11d8026939132ad7"><div class="ttname"><a href="mem__info_8h.html#a9eeab01e8c64c27c11d8026939132ad7">RODATA_END</a></div><div class="ttdeci">ptr RODATA_END</div></div>
<div class="ttc" id="amem__info_8h_html_ab3ffc42a642d02b6b6cb458902c0bde8"><div class="ttname"><a href="mem__info_8h.html#ab3ffc42a642d02b6b6cb458902c0bde8">ALLOCATE_END</a></div><div class="ttdeci">static ptr ALLOCATE_END</div><div class="ttdef"><b>Definition</b> <a href="mem__info_8h_source.html#l00025">mem_info.h:25</a></div></div>
<div class="ttc" id="amem__info_8h_html_abd2982c036e662020628bba0809aaa1b"><div class="ttname"><a href="mem__info_8h.html#abd2982c036e662020628bba0809aaa1b">BSS_ENTRY</a></div><div class="ttdeci">ptr BSS_ENTRY</div></div>
<div class="ttc" id="amem__info_8h_html_ac098967cd0f0258a720ce0056fdcbd16"><div class="ttname"><a href="mem__info_8h.html#ac098967cd0f0258a720ce0056fdcbd16">DATA_ENTRY</a></div><div class="ttdeci">ptr DATA_ENTRY</div></div>
<div class="ttc" id="amem__info_8h_html_ac287c0047479d7f4f30cc9ced5a65e34"><div class="ttname"><a href="mem__info_8h.html#ac287c0047479d7f4f30cc9ced5a65e34">RODATA_ENTRY</a></div><div class="ttdeci">ptr RODATA_ENTRY</div></div>
<div class="ttc" id="amem__info_8h_html_acff51aab7f02fef4e9e7f6fabe269a49"><div class="ttname"><a href="mem__info_8h.html#acff51aab7f02fef4e9e7f6fabe269a49">TEXT_ENTRY</a></div><div class="ttdeci">ptr TEXT_ENTRY</div></div>
<div class="ttc" id="amem__info_8h_html_ae4921c2a0bdf278cdaf887404043f137"><div class="ttname"><a href="mem__info_8h.html#ae4921c2a0bdf278cdaf887404043f137">PAGE_IS_USED</a></div><div class="ttdeci">#define PAGE_IS_USED</div><div class="ttdef"><b>Definition</b> <a href="mem__info_8h_source.html#l00005">mem_info.h:5</a></div></div>
<div class="ttc" id="apage__alloc_8c_html_a86258448e00d497b7de4d2551eb0337e"><div class="ttname"><a href="page__alloc_8c.html#a86258448e00d497b7de4d2551eb0337e">page_clear</a></div><div class="ttdeci">static void page_clear(Page *page)</div><div class="ttdef"><b>Definition</b> <a href="page__alloc_8c_source.html#l00005">page_alloc.c:5</a></div></div>
<div class="ttc" id="apage__alloc_8c_html_ae777299bc9cfe52cd900a1e9f9174c31"><div class="ttname"><a href="page__alloc_8c.html#ae777299bc9cfe52cd900a1e9f9174c31">align_page</a></div><div class="ttdeci">static ptr align_page(ptr addr)</div><div class="ttdef"><b>Definition</b> <a href="page__alloc_8c_source.html#l00021">page_alloc.c:21</a></div></div>
<div class="ttc" id="astructPage_html"><div class="ttname"><a href="structPage.html">Page</a></div><div class="ttdef"><b>Definition</b> <a href="mem__info_8h_source.html#l00007">mem_info.h:7</a></div></div>
<div class="ttc" id="astructPage_html_afa4c5b06bb7768b09dfbdc636dc62aad"><div class="ttname"><a href="structPage.html#afa4c5b06bb7768b09dfbdc636dc62aad">Page::flags</a></div><div class="ttdeci">uint8_t flags</div><div class="ttdef"><b>Definition</b> <a href="mem__info_8h_source.html#l00008">mem_info.h:8</a></div></div>
<div class="ttc" id="atype_8h_html_a1b4033e498798170b7cb61e7130fd344"><div class="ttname"><a href="type_8h.html#a1b4033e498798170b7cb61e7130fd344">ptr</a></div><div class="ttdeci">uint32_t ptr</div><div class="ttdef"><b>Definition</b> <a href="type_8h_source.html#l00011">type.h:11</a></div></div>
<div class="ttc" id="atype_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="type_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition</b> <a href="type_8h_source.html#l00005">type.h:5</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__alloc_8c_a55706c3dd664e8e40844daa53b8cb41c_cgraph.png" border="0" usemap="#apage__alloc_8c_a55706c3dd664e8e40844daa53b8cb41c_cgraph" alt=""/></div>
<map name="apage__alloc_8c_a55706c3dd664e8e40844daa53b8cb41c_cgraph" id="apage__alloc_8c_a55706c3dd664e8e40844daa53b8cb41c_cgraph">
<area shape="rect" title=" " alt="" coords="5,55,152,80"/>
<area shape="rect" href="page__alloc_8c.html#ae777299bc9cfe52cd900a1e9f9174c31" title=" " alt="" coords="200,5,293,31"/>
<area shape="poly" title=" " alt="" coords="122,52,188,32,190,37,123,57"/>
<area shape="rect" href="uart0_8c.html#a35a7eca18d1cb9276ea9e446617f044a" title=" " alt="" coords="200,55,293,80"/>
<area shape="poly" title=" " alt="" coords="152,65,186,65,186,70,152,70"/>
<area shape="rect" href="page__alloc_8c.html#a86258448e00d497b7de4d2551eb0337e" title=" " alt="" coords="200,104,293,129"/>
<area shape="poly" title=" " alt="" coords="123,77,190,97,188,102,122,83"/>
<area shape="rect" href="uart0_8c.html#a25101a6b344e02d840568ef3d33b5b08" title=" " alt="" coords="575,55,693,80"/>
<area shape="poly" title=" " alt="" coords="285,52,341,39,434,32,527,39,577,49,576,54,526,45,434,37,342,45,286,57"/>
<area shape="rect" href="uart0_8c.html#a67f62805cb45162f505346cb0ed7d2ef" title=" " alt="" coords="363,55,505,80"/>
<area shape="poly" title=" " alt="" coords="294,65,349,65,349,70,294,70"/>
<area shape="rect" href="uart0_8c.html#ab670ad0f8990c412e0b7ded2e6797f26" title=" " alt="" coords="341,104,527,129"/>
<area shape="poly" title=" " alt="" coords="294,77,342,90,371,98,370,103,341,95,293,82"/>
<area shape="poly" title=" " alt="" coords="505,65,561,65,561,70,505,70"/>
<area shape="poly" title=" " alt="" coords="486,101,568,81,569,86,487,107"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__alloc_8c_a55706c3dd664e8e40844daa53b8cb41c_icgraph.png" border="0" usemap="#apage__alloc_8c_a55706c3dd664e8e40844daa53b8cb41c_icgraph" alt=""/></div>
<map name="apage__alloc_8c_a55706c3dd664e8e40844daa53b8cb41c_icgraph" id="apage__alloc_8c_a55706c3dd664e8e40844daa53b8cb41c_icgraph">
<area shape="rect" title=" " alt="" coords="152,5,299,31"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,5,104,31"/>
<area shape="poly" title=" " alt="" coords="138,21,104,21,104,15,138,15"/>
</map>
</div>

</div>
</div>
<a id="a785185764a5d4a0397d3bb22088ae63a" name="a785185764a5d4a0397d3bb22088ae63a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a785185764a5d4a0397d3bb22088ae63a">&#9670;&#160;</a></span>page_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * page_alloc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>npages</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="page__alloc_8c_source.html#l00081">81</a> of file <a class="el" href="page__alloc_8c_source.html">page_alloc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   82</span>{</div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">if</span> (npages &lt;= 0 || npages &gt; <a class="code hl_variable" href="mem__info_8h.html#a160257561813236c1f9421eaf7e0728d">ALLOCATE_PAGES</a>) {</div>
<div class="line"><span class="lineno">   84</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">   85</span>    }</div>
<div class="line"><span class="lineno">   86</span>    </div>
<div class="line"><span class="lineno">   87</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structPage.html">Page</a> *page = (<span class="keyword">struct </span><a class="code hl_struct" href="structPage.html">Page</a> *)<a class="code hl_variable" href="mem__info_8h.html#a710ef7a22870373793dd36e498ac9fe2">HEAP_ENTRY</a>;</div>
<div class="line"><span class="lineno">   88</span>    <span class="keywordtype">int</span> consecutive_free = 0;</div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordtype">int</span> start_index = -1;</div>
<div class="line"><span class="lineno">   90</span>    </div>
<div class="line"><span class="lineno">   91</span>    <span class="comment">/* find the continuous &amp; available pages */</span></div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="mem__info_8h.html#a160257561813236c1f9421eaf7e0728d">ALLOCATE_PAGES</a>; i++) {</div>
<div class="line"><span class="lineno">   93</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="page__alloc_8c.html#ae5a8fe74f6224563d792007d975101fd">page_is_available</a>(&amp;page[i])) {</div>
<div class="line"><span class="lineno">   94</span>            <span class="keywordflow">if</span> (consecutive_free == 0) {</div>
<div class="line"><span class="lineno">   95</span>                start_index = i;</div>
<div class="line"><span class="lineno">   96</span>            }</div>
<div class="line"><span class="lineno">   97</span>            consecutive_free++;</div>
<div class="line"><span class="lineno">   98</span>            </div>
<div class="line"><span class="lineno">   99</span>            <span class="keywordflow">if</span> (consecutive_free &gt;= npages) {</div>
<div class="line"><span class="lineno">  100</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = start_index; j &lt; start_index + npages; j++) {</div>
<div class="line"><span class="lineno">  101</span>                    <a class="code hl_function" href="page__alloc_8c.html#adb4fee457ae8d9e5682a60a7456eeac2">page_set_flag</a>(&amp;page[j], <a class="code hl_define" href="mem__info_8h.html#ae4921c2a0bdf278cdaf887404043f137">PAGE_IS_USED</a>);</div>
<div class="line"><span class="lineno">  102</span>                    <span class="keywordflow">if</span> (j == start_index + npages - 1) {</div>
<div class="line"><span class="lineno">  103</span>                        <a class="code hl_function" href="page__alloc_8c.html#adb4fee457ae8d9e5682a60a7456eeac2">page_set_flag</a>(&amp;page[j], <a class="code hl_define" href="mem__info_8h.html#aa218b0b80ed17eaf80735a8994193d15">PAGE_IS_LAST</a>);</div>
<div class="line"><span class="lineno">  104</span>                    }</div>
<div class="line"><span class="lineno">  105</span>                }</div>
<div class="line"><span class="lineno">  106</span>                <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)(<a class="code hl_variable" href="mem__info_8h.html#a4ebf7767a50414078aae64f8f198203c">ALLOCATE_START</a> + start_index * <a class="code hl_define" href="mem__info_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>);</div>
<div class="line"><span class="lineno">  107</span>            }</div>
<div class="line"><span class="lineno">  108</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  109</span>            consecutive_free = 0;</div>
<div class="line"><span class="lineno">  110</span>            start_index = -1;</div>
<div class="line"><span class="lineno">  111</span>        }</div>
<div class="line"><span class="lineno">  112</span>    }</div>
<div class="line"><span class="lineno">  113</span>    </div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">return</span> NULL; <span class="comment">/* no enough pages */</span></div>
<div class="line"><span class="lineno">  115</span>}</div>
<div class="ttc" id="amem__info_8h_html_aa218b0b80ed17eaf80735a8994193d15"><div class="ttname"><a href="mem__info_8h.html#aa218b0b80ed17eaf80735a8994193d15">PAGE_IS_LAST</a></div><div class="ttdeci">#define PAGE_IS_LAST</div><div class="ttdef"><b>Definition</b> <a href="mem__info_8h_source.html#l00006">mem_info.h:6</a></div></div>
<div class="ttc" id="apage__alloc_8c_html_adb4fee457ae8d9e5682a60a7456eeac2"><div class="ttname"><a href="page__alloc_8c.html#adb4fee457ae8d9e5682a60a7456eeac2">page_set_flag</a></div><div class="ttdeci">static void page_set_flag(Page *page, uint8_t flag)</div><div class="ttdef"><b>Definition</b> <a href="page__alloc_8c_source.html#l00013">page_alloc.c:13</a></div></div>
<div class="ttc" id="apage__alloc_8c_html_ae5a8fe74f6224563d792007d975101fd"><div class="ttname"><a href="page__alloc_8c.html#ae5a8fe74f6224563d792007d975101fd">page_is_available</a></div><div class="ttdeci">static int page_is_available(Page *page)</div><div class="ttdef"><b>Definition</b> <a href="page__alloc_8c_source.html#l00009">page_alloc.c:9</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__alloc_8c_a785185764a5d4a0397d3bb22088ae63a_cgraph.png" border="0" usemap="#apage__alloc_8c_a785185764a5d4a0397d3bb22088ae63a_cgraph" alt=""/></div>
<map name="apage__alloc_8c_a785185764a5d4a0397d3bb22088ae63a_cgraph" id="apage__alloc_8c_a785185764a5d4a0397d3bb22088ae63a_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,97,56"/>
<area shape="rect" href="page__alloc_8c.html#ae5a8fe74f6224563d792007d975101fd" title=" " alt="" coords="145,5,284,31"/>
<area shape="poly" title=" " alt="" coords="97,34,131,28,132,34,98,39"/>
<area shape="rect" href="page__alloc_8c.html#adb4fee457ae8d9e5682a60a7456eeac2" title=" " alt="" coords="159,55,271,80"/>
<area shape="poly" title=" " alt="" coords="98,47,146,55,145,60,97,53"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__alloc_8c_a785185764a5d4a0397d3bb22088ae63a_icgraph.png" border="0" usemap="#apage__alloc_8c_a785185764a5d4a0397d3bb22088ae63a_icgraph" alt=""/></div>
<map name="apage__alloc_8c_a785185764a5d4a0397d3bb22088ae63a_icgraph" id="apage__alloc_8c_a785185764a5d4a0397d3bb22088ae63a_icgraph">
<area shape="rect" title=" " alt="" coords="355,31,447,56"/>
<area shape="rect" href="scheduler_8c.html#a43f281413b5ffa10237716ca606acbb0" title=" " alt="" coords="152,5,307,31"/>
<area shape="poly" title=" " alt="" coords="341,37,307,32,307,27,341,32"/>
<area shape="rect" href="page__alloc_8c.html#ac685d2b152de084be0cdab2e82f0e99d" title=" " alt="" coords="186,55,273,80"/>
<area shape="poly" title=" " alt="" coords="341,54,273,64,272,59,341,49"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,55,104,80"/>
<area shape="poly" title=" " alt="" coords="172,70,104,70,104,65,172,65"/>
</map>
</div>

</div>
</div>
<a id="a86258448e00d497b7de4d2551eb0337e" name="a86258448e00d497b7de4d2551eb0337e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86258448e00d497b7de4d2551eb0337e">&#9670;&#160;</a></span>page_clear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void page_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPage.html">Page</a> *&#160;</td>
          <td class="paramname"><em>page</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="page__alloc_8c_source.html#l00005">5</a> of file <a class="el" href="page__alloc_8c_source.html">page_alloc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    5</span>                                          {</div>
<div class="line"><span class="lineno">    6</span>    page-&gt;<a class="code hl_variable" href="structPage.html#afa4c5b06bb7768b09dfbdc636dc62aad">flags</a> = 0;</div>
<div class="line"><span class="lineno">    7</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__alloc_8c_a86258448e00d497b7de4d2551eb0337e_icgraph.png" border="0" usemap="#apage__alloc_8c_a86258448e00d497b7de4d2551eb0337e_icgraph" alt=""/></div>
<map name="apage__alloc_8c_a86258448e00d497b7de4d2551eb0337e_icgraph" id="apage__alloc_8c_a86258448e00d497b7de4d2551eb0337e_icgraph">
<area shape="rect" title=" " alt="" coords="696,44,789,69"/>
<area shape="rect" href="page__alloc_8c.html#a55706c3dd664e8e40844daa53b8cb41c" title=" " alt="" coords="501,5,648,31"/>
<area shape="poly" title=" " alt="" coords="682,45,630,33,631,28,683,40"/>
<area shape="rect" href="page__alloc_8c.html#a51700bb14c8e5dbe0fd489427a8b6588" title=" " alt="" coords="531,68,618,93"/>
<area shape="poly" title=" " alt="" coords="683,68,618,77,618,72,682,63"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,93,104,119"/>
<area shape="poly" title=" " alt="" coords="488,18,415,20,330,27,240,40,153,63,80,96,78,91,151,58,239,35,329,22,414,15,488,13"/>
<area shape="rect" href="scheduler_8c.html#a43f281413b5ffa10237716ca606acbb0" title=" " alt="" coords="299,43,453,68"/>
<area shape="poly" title=" " alt="" coords="518,76,453,68,454,63,518,71"/>
<area shape="rect" href="page__alloc_8c.html#ac685d2b152de084be0cdab2e82f0e99d" title=" " alt="" coords="333,92,419,117"/>
<area shape="poly" title=" " alt="" coords="518,90,420,102,419,97,518,85"/>
<area shape="rect" href="scheduler_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title=" " alt="" coords="324,141,428,167"/>
<area shape="poly" title=" " alt="" coords="531,101,454,131,418,144,416,139,452,126,529,96"/>
<area shape="poly" title=" " alt="" coords="319,94,250,83,201,80,152,83,95,96,94,91,152,78,201,74,251,78,319,89"/>
<area shape="rect" href="usr__mode_8c.html#a78a1dd5e8e2853c3dcd5f2d4da57159a" title=" " alt="" coords="152,93,251,119"/>
<area shape="poly" title=" " alt="" coords="315,140,248,121,249,116,316,135"/>
<area shape="rect" href="usr__mode_8c.html#acae953474a792b181887214714dcb862" title=" " alt="" coords="152,143,251,168"/>
<area shape="poly" title=" " alt="" coords="310,157,251,158,251,152,310,152"/>
<area shape="rect" href="usr__mode_8c.html#ab96d1aab428fad484e42d6180ece7424" title=" " alt="" coords="152,192,251,217"/>
<area shape="poly" title=" " alt="" coords="319,173,247,194,245,189,317,168"/>
<area shape="poly" title=" " alt="" coords="138,109,104,109,104,103,138,103"/>
<area shape="poly" title=" " alt="" coords="149,141,93,121,94,116,151,136"/>
<area shape="poly" title=" " alt="" coords="159,188,151,183,105,151,69,121,73,117,109,147,153,178,161,183"/>
</map>
</div>

</div>
</div>
<a id="a51700bb14c8e5dbe0fd489427a8b6588" name="a51700bb14c8e5dbe0fd489427a8b6588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51700bb14c8e5dbe0fd489427a8b6588">&#9670;&#160;</a></span>page_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="page__alloc_8c_source.html#l00118">118</a> of file <a class="el" href="page__alloc_8c_source.html">page_alloc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  119</span>{</div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">if</span> (!p || (<a class="code hl_typedef" href="type_8h.html#a1b4033e498798170b7cb61e7130fd344">ptr</a>)p &lt; <a class="code hl_variable" href="mem__info_8h.html#a4ebf7767a50414078aae64f8f198203c">ALLOCATE_START</a> || (<a class="code hl_typedef" href="type_8h.html#a1b4033e498798170b7cb61e7130fd344">ptr</a>)p &gt;= <a class="code hl_variable" href="mem__info_8h.html#ab3ffc42a642d02b6b6cb458902c0bde8">ALLOCATE_END</a>) {</div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  122</span>    }</div>
<div class="line"><span class="lineno">  123</span>    </div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordtype">int</span> start_index = ((<a class="code hl_typedef" href="type_8h.html#a1b4033e498798170b7cb61e7130fd344">ptr</a>)p - <a class="code hl_variable" href="mem__info_8h.html#a4ebf7767a50414078aae64f8f198203c">ALLOCATE_START</a>) / <a class="code hl_define" href="mem__info_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>;</div>
<div class="line"><span class="lineno">  125</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structPage.html">Page</a> *page = (<span class="keyword">struct </span><a class="code hl_struct" href="structPage.html">Page</a> *)<a class="code hl_variable" href="mem__info_8h.html#a710ef7a22870373793dd36e498ac9fe2">HEAP_ENTRY</a>;</div>
<div class="line"><span class="lineno">  126</span>    </div>
<div class="line"><span class="lineno">  127</span>    <span class="comment">/* free the continuous pages */</span></div>
<div class="line"><span class="lineno">  128</span>    <span class="keywordtype">int</span> i = start_index;</div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">while</span> (i &lt; <a class="code hl_variable" href="mem__info_8h.html#a160257561813236c1f9421eaf7e0728d">ALLOCATE_PAGES</a> &amp;&amp; !<a class="code hl_function" href="page__alloc_8c.html#ae5a8fe74f6224563d792007d975101fd">page_is_available</a>(&amp;page[i])) {</div>
<div class="line"><span class="lineno">  130</span>        <a class="code hl_function" href="page__alloc_8c.html#a86258448e00d497b7de4d2551eb0337e">page_clear</a>(&amp;page[i]);</div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="page__alloc_8c.html#a46b025a749f771f928c97f4687597c43">page_is_last</a>(&amp;page[i])) {</div>
<div class="line"><span class="lineno">  132</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  133</span>        }</div>
<div class="line"><span class="lineno">  134</span>        i++;</div>
<div class="line"><span class="lineno">  135</span>    }</div>
<div class="line"><span class="lineno">  136</span>}</div>
<div class="ttc" id="apage__alloc_8c_html_a46b025a749f771f928c97f4687597c43"><div class="ttname"><a href="page__alloc_8c.html#a46b025a749f771f928c97f4687597c43">page_is_last</a></div><div class="ttdeci">static int page_is_last(Page *page)</div><div class="ttdef"><b>Definition</b> <a href="page__alloc_8c_source.html#l00017">page_alloc.c:17</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__alloc_8c_a51700bb14c8e5dbe0fd489427a8b6588_cgraph.png" border="0" usemap="#apage__alloc_8c_a51700bb14c8e5dbe0fd489427a8b6588_cgraph" alt=""/></div>
<map name="apage__alloc_8c_a51700bb14c8e5dbe0fd489427a8b6588_cgraph" id="apage__alloc_8c_a51700bb14c8e5dbe0fd489427a8b6588_cgraph">
<area shape="rect" title=" " alt="" coords="5,55,92,80"/>
<area shape="rect" href="page__alloc_8c.html#a86258448e00d497b7de4d2551eb0337e" title=" " alt="" coords="163,5,256,31"/>
<area shape="poly" title=" " alt="" coords="90,52,153,32,155,37,91,57"/>
<area shape="rect" href="page__alloc_8c.html#ae5a8fe74f6224563d792007d975101fd" title=" " alt="" coords="140,55,279,80"/>
<area shape="poly" title=" " alt="" coords="92,65,127,65,127,70,92,70"/>
<area shape="rect" href="page__alloc_8c.html#a46b025a749f771f928c97f4687597c43" title=" " alt="" coords="158,104,261,129"/>
<area shape="poly" title=" " alt="" coords="91,77,155,97,153,102,90,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__alloc_8c_a51700bb14c8e5dbe0fd489427a8b6588_icgraph.png" border="0" usemap="#apage__alloc_8c_a51700bb14c8e5dbe0fd489427a8b6588_icgraph" alt=""/></div>
<map name="apage__alloc_8c_a51700bb14c8e5dbe0fd489427a8b6588_icgraph" id="apage__alloc_8c_a51700bb14c8e5dbe0fd489427a8b6588_icgraph">
<area shape="rect" title=" " alt="" coords="501,55,588,80"/>
<area shape="rect" href="scheduler_8c.html#a43f281413b5ffa10237716ca606acbb0" title=" " alt="" coords="299,5,453,31"/>
<area shape="poly" title=" " alt="" coords="487,53,419,33,421,28,488,48"/>
<area shape="rect" href="page__alloc_8c.html#ac685d2b152de084be0cdab2e82f0e99d" title=" " alt="" coords="333,55,419,80"/>
<area shape="poly" title=" " alt="" coords="488,70,420,70,420,65,488,65"/>
<area shape="rect" href="scheduler_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title=" " alt="" coords="324,117,428,143"/>
<area shape="poly" title=" " alt="" coords="498,87,412,120,411,115,496,82"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,117,104,143"/>
<area shape="poly" title=" " alt="" coords="319,66,239,68,195,73,153,82,111,99,76,119,73,115,108,94,151,77,195,68,239,63,319,61"/>
<area shape="rect" href="usr__mode_8c.html#a78a1dd5e8e2853c3dcd5f2d4da57159a" title=" " alt="" coords="152,92,251,117"/>
<area shape="poly" title=" " alt="" coords="310,123,251,114,252,109,311,118"/>
<area shape="rect" href="usr__mode_8c.html#acae953474a792b181887214714dcb862" title=" " alt="" coords="152,141,251,167"/>
<area shape="poly" title=" " alt="" coords="311,142,252,150,251,145,310,136"/>
<area shape="rect" href="usr__mode_8c.html#ab96d1aab428fad484e42d6180ece7424" title=" " alt="" coords="152,191,251,216"/>
<area shape="poly" title=" " alt="" coords="333,151,234,193,232,188,331,146"/>
<area shape="poly" title=" " alt="" coords="139,118,105,124,104,119,138,113"/>
<area shape="poly" title=" " alt="" coords="138,146,104,141,105,135,139,141"/>
<area shape="poly" title=" " alt="" coords="161,187,151,182,80,145,82,140,153,177,163,182"/>
</map>
</div>

</div>
</div>
<a id="ae5a8fe74f6224563d792007d975101fd" name="ae5a8fe74f6224563d792007d975101fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5a8fe74f6224563d792007d975101fd">&#9670;&#160;</a></span>page_is_available()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int page_is_available </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPage.html">Page</a> *&#160;</td>
          <td class="paramname"><em>page</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="page__alloc_8c_source.html#l00009">9</a> of file <a class="el" href="page__alloc_8c_source.html">page_alloc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    9</span>                                                {</div>
<div class="line"><span class="lineno">   10</span>    <span class="keywordflow">return</span> (page-&gt;<a class="code hl_variable" href="structPage.html#afa4c5b06bb7768b09dfbdc636dc62aad">flags</a> &amp; <a class="code hl_define" href="mem__info_8h.html#ae4921c2a0bdf278cdaf887404043f137">PAGE_IS_USED</a>) == 0;</div>
<div class="line"><span class="lineno">   11</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__alloc_8c_ae5a8fe74f6224563d792007d975101fd_icgraph.png" border="0" usemap="#apage__alloc_8c_ae5a8fe74f6224563d792007d975101fd_icgraph" alt=""/></div>
<map name="apage__alloc_8c_ae5a8fe74f6224563d792007d975101fd_icgraph" id="apage__alloc_8c_ae5a8fe74f6224563d792007d975101fd_icgraph">
<area shape="rect" title=" " alt="" coords="641,31,780,56"/>
<area shape="rect" href="page__alloc_8c.html#a785185764a5d4a0397d3bb22088ae63a" title=" " alt="" coords="501,5,593,31"/>
<area shape="poly" title=" " alt="" coords="627,33,593,28,594,22,628,28"/>
<area shape="rect" href="page__alloc_8c.html#a51700bb14c8e5dbe0fd489427a8b6588" title=" " alt="" coords="504,55,591,80"/>
<area shape="poly" title=" " alt="" coords="628,58,591,64,590,58,627,53"/>
<area shape="rect" href="scheduler_8c.html#a43f281413b5ffa10237716ca606acbb0" title=" " alt="" coords="299,55,453,80"/>
<area shape="poly" title=" " alt="" coords="490,37,422,57,420,52,488,32"/>
<area shape="rect" href="page__alloc_8c.html#ac685d2b152de084be0cdab2e82f0e99d" title=" " alt="" coords="333,5,419,31"/>
<area shape="poly" title=" " alt="" coords="488,21,419,21,419,15,488,15"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,80,104,105"/>
<area shape="poly" title=" " alt="" coords="319,21,239,27,195,34,153,45,111,62,76,82,74,78,109,57,151,39,194,29,239,22,319,16"/>
<area shape="poly" title=" " alt="" coords="491,70,454,70,454,65,491,65"/>
<area shape="poly" title=" " alt="" coords="490,54,419,33,420,28,491,49"/>
<area shape="rect" href="scheduler_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title=" " alt="" coords="324,104,428,129"/>
<area shape="poly" title=" " alt="" coords="492,86,421,107,420,101,490,81"/>
<area shape="rect" href="usr__mode_8c.html#a78a1dd5e8e2853c3dcd5f2d4da57159a" title=" " alt="" coords="152,55,251,80"/>
<area shape="poly" title=" " alt="" coords="317,103,247,83,248,78,318,98"/>
<area shape="rect" href="usr__mode_8c.html#acae953474a792b181887214714dcb862" title=" " alt="" coords="152,104,251,129"/>
<area shape="poly" title=" " alt="" coords="310,119,251,119,251,114,310,114"/>
<area shape="rect" href="usr__mode_8c.html#ab96d1aab428fad484e42d6180ece7424" title=" " alt="" coords="152,153,251,179"/>
<area shape="poly" title=" " alt="" coords="318,136,248,156,247,151,317,131"/>
<area shape="poly" title=" " alt="" coords="139,81,105,87,104,82,138,76"/>
<area shape="poly" title=" " alt="" coords="138,109,104,103,105,98,139,104"/>
<area shape="poly" title=" " alt="" coords="161,149,151,144,80,108,82,103,153,140,163,145"/>
</map>
</div>

</div>
</div>
<a id="a46b025a749f771f928c97f4687597c43" name="a46b025a749f771f928c97f4687597c43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46b025a749f771f928c97f4687597c43">&#9670;&#160;</a></span>page_is_last()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int page_is_last </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPage.html">Page</a> *&#160;</td>
          <td class="paramname"><em>page</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="page__alloc_8c_source.html#l00017">17</a> of file <a class="el" href="page__alloc_8c_source.html">page_alloc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   17</span>                                           {</div>
<div class="line"><span class="lineno">   18</span>    <span class="keywordflow">return</span> (page-&gt;<a class="code hl_variable" href="structPage.html#afa4c5b06bb7768b09dfbdc636dc62aad">flags</a> &amp; <a class="code hl_define" href="mem__info_8h.html#aa218b0b80ed17eaf80735a8994193d15">PAGE_IS_LAST</a>) != 0;</div>
<div class="line"><span class="lineno">   19</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__alloc_8c_a46b025a749f771f928c97f4687597c43_icgraph.png" border="0" usemap="#apage__alloc_8c_a46b025a749f771f928c97f4687597c43_icgraph" alt=""/></div>
<map name="apage__alloc_8c_a46b025a749f771f928c97f4687597c43_icgraph" id="apage__alloc_8c_a46b025a749f771f928c97f4687597c43_icgraph">
<area shape="rect" title=" " alt="" coords="636,55,739,80"/>
<area shape="rect" href="page__alloc_8c.html#a51700bb14c8e5dbe0fd489427a8b6588" title=" " alt="" coords="501,55,588,80"/>
<area shape="poly" title=" " alt="" coords="622,70,588,70,588,65,622,65"/>
<area shape="rect" href="scheduler_8c.html#a43f281413b5ffa10237716ca606acbb0" title=" " alt="" coords="299,5,453,31"/>
<area shape="poly" title=" " alt="" coords="487,53,419,33,421,28,488,48"/>
<area shape="rect" href="page__alloc_8c.html#ac685d2b152de084be0cdab2e82f0e99d" title=" " alt="" coords="333,55,419,80"/>
<area shape="poly" title=" " alt="" coords="488,70,420,70,420,65,488,65"/>
<area shape="rect" href="scheduler_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title=" " alt="" coords="324,117,428,143"/>
<area shape="poly" title=" " alt="" coords="498,87,412,120,411,115,496,82"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,117,104,143"/>
<area shape="poly" title=" " alt="" coords="319,66,239,68,195,73,153,82,111,99,76,119,73,115,108,94,151,77,195,68,239,63,319,61"/>
<area shape="rect" href="usr__mode_8c.html#a78a1dd5e8e2853c3dcd5f2d4da57159a" title=" " alt="" coords="152,92,251,117"/>
<area shape="poly" title=" " alt="" coords="310,123,251,114,252,109,311,118"/>
<area shape="rect" href="usr__mode_8c.html#acae953474a792b181887214714dcb862" title=" " alt="" coords="152,141,251,167"/>
<area shape="poly" title=" " alt="" coords="311,142,252,150,251,145,310,136"/>
<area shape="rect" href="usr__mode_8c.html#ab96d1aab428fad484e42d6180ece7424" title=" " alt="" coords="152,191,251,216"/>
<area shape="poly" title=" " alt="" coords="333,151,234,193,232,188,331,146"/>
<area shape="poly" title=" " alt="" coords="139,118,105,124,104,119,138,113"/>
<area shape="poly" title=" " alt="" coords="138,146,104,141,105,135,139,141"/>
<area shape="poly" title=" " alt="" coords="161,187,151,182,80,145,82,140,153,177,163,182"/>
</map>
</div>

</div>
</div>
<a id="adb4fee457ae8d9e5682a60a7456eeac2" name="adb4fee457ae8d9e5682a60a7456eeac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb4fee457ae8d9e5682a60a7456eeac2">&#9670;&#160;</a></span>page_set_flag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void page_set_flag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPage.html">Page</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="page__alloc_8c_source.html#l00013">13</a> of file <a class="el" href="page__alloc_8c_source.html">page_alloc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   13</span>                                                           {</div>
<div class="line"><span class="lineno">   14</span>    page-&gt;<a class="code hl_variable" href="structPage.html#afa4c5b06bb7768b09dfbdc636dc62aad">flags</a> |= flag;</div>
<div class="line"><span class="lineno">   15</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__alloc_8c_adb4fee457ae8d9e5682a60a7456eeac2_icgraph.png" border="0" usemap="#apage__alloc_8c_adb4fee457ae8d9e5682a60a7456eeac2_icgraph" alt=""/></div>
<map name="apage__alloc_8c_adb4fee457ae8d9e5682a60a7456eeac2_icgraph" id="apage__alloc_8c_adb4fee457ae8d9e5682a60a7456eeac2_icgraph">
<area shape="rect" title=" " alt="" coords="495,31,607,56"/>
<area shape="rect" href="page__alloc_8c.html#a785185764a5d4a0397d3bb22088ae63a" title=" " alt="" coords="355,31,447,56"/>
<area shape="poly" title=" " alt="" coords="481,46,447,46,447,41,481,41"/>
<area shape="rect" href="scheduler_8c.html#a43f281413b5ffa10237716ca606acbb0" title=" " alt="" coords="152,5,307,31"/>
<area shape="poly" title=" " alt="" coords="341,37,307,32,307,27,341,32"/>
<area shape="rect" href="page__alloc_8c.html#ac685d2b152de084be0cdab2e82f0e99d" title=" " alt="" coords="186,55,273,80"/>
<area shape="poly" title=" " alt="" coords="341,54,273,64,272,59,341,49"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,55,104,80"/>
<area shape="poly" title=" " alt="" coords="172,70,104,70,104,65,172,65"/>
</map>
</div>

</div>
</div>
<a id="ac685d2b152de084be0cdab2e82f0e99d" name="ac685d2b152de084be0cdab2e82f0e99d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac685d2b152de084be0cdab2e82f0e99d">&#9670;&#160;</a></span>page_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_test </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="page__alloc_8c_source.html#l00139">139</a> of file <a class="el" href="page__alloc_8c_source.html">page_alloc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  140</span>{</div>
<div class="line"><span class="lineno">  141</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;=== Page Allocation Test ===\n&quot;</span>);</div>
<div class="line"><span class="lineno">  142</span>    </div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordtype">void</span> *p1 = <a class="code hl_function" href="page__alloc_8c.html#a785185764a5d4a0397d3bb22088ae63a">page_alloc</a>(2); <span class="comment">// parameter 2 means allocate 2 pages</span></div>
<div class="line"><span class="lineno">  144</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Allocated 2 pages at: %p\n&quot;</span>, p1);</div>
<div class="line"><span class="lineno">  145</span>    </div>
<div class="line"><span class="lineno">  146</span>    <span class="keywordtype">void</span> *p2 = <a class="code hl_function" href="page__alloc_8c.html#a785185764a5d4a0397d3bb22088ae63a">page_alloc</a>(3);</div>
<div class="line"><span class="lineno">  147</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Allocated 3 pages at: %p\n&quot;</span>, p2);</div>
<div class="line"><span class="lineno">  148</span>    </div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordtype">void</span> *p3 = <a class="code hl_function" href="page__alloc_8c.html#a785185764a5d4a0397d3bb22088ae63a">page_alloc</a>(1);</div>
<div class="line"><span class="lineno">  150</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Allocated 1 page at: %p\n&quot;</span>, p3);</div>
<div class="line"><span class="lineno">  151</span>    </div>
<div class="line"><span class="lineno">  152</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Freeing p2...\n&quot;</span>);</div>
<div class="line"><span class="lineno">  153</span>    <a class="code hl_function" href="page__alloc_8c.html#a51700bb14c8e5dbe0fd489427a8b6588">page_free</a>(p2);</div>
<div class="line"><span class="lineno">  154</span>    </div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordtype">void</span> *p4 = <a class="code hl_function" href="page__alloc_8c.html#a785185764a5d4a0397d3bb22088ae63a">page_alloc</a>(4);</div>
<div class="line"><span class="lineno">  156</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Allocated 4 pages at: %p\n&quot;</span>, p4);</div>
<div class="line"><span class="lineno">  157</span>    </div>
<div class="line"><span class="lineno">  158</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;=== Test Completed ===\n&quot;</span>);</div>
<div class="line"><span class="lineno">  159</span>    <a class="code hl_function" href="page__alloc_8c.html#a51700bb14c8e5dbe0fd489427a8b6588">page_free</a>(p1);</div>
<div class="line"><span class="lineno">  160</span>    <a class="code hl_function" href="page__alloc_8c.html#a51700bb14c8e5dbe0fd489427a8b6588">page_free</a>(p3);</div>
<div class="line"><span class="lineno">  161</span>    <a class="code hl_function" href="page__alloc_8c.html#a51700bb14c8e5dbe0fd489427a8b6588">page_free</a>(p4);</div>
<div class="line"><span class="lineno">  162</span>    </div>
<div class="line"><span class="lineno">  163</span>}</div>
<div class="ttc" id="apage__alloc_8c_html_a51700bb14c8e5dbe0fd489427a8b6588"><div class="ttname"><a href="page__alloc_8c.html#a51700bb14c8e5dbe0fd489427a8b6588">page_free</a></div><div class="ttdeci">void page_free(void *p)</div><div class="ttdef"><b>Definition</b> <a href="page__alloc_8c_source.html#l00118">page_alloc.c:118</a></div></div>
<div class="ttc" id="apage__alloc_8c_html_a785185764a5d4a0397d3bb22088ae63a"><div class="ttname"><a href="page__alloc_8c.html#a785185764a5d4a0397d3bb22088ae63a">page_alloc</a></div><div class="ttdeci">void * page_alloc(int npages)</div><div class="ttdef"><b>Definition</b> <a href="page__alloc_8c_source.html#l00081">page_alloc.c:81</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__alloc_8c_ac685d2b152de084be0cdab2e82f0e99d_cgraph.png" border="0" usemap="#apage__alloc_8c_ac685d2b152de084be0cdab2e82f0e99d_cgraph" alt=""/></div>
<map name="apage__alloc_8c_ac685d2b152de084be0cdab2e82f0e99d_cgraph" id="apage__alloc_8c_ac685d2b152de084be0cdab2e82f0e99d_cgraph">
<area shape="rect" title=" " alt="" coords="5,137,92,163"/>
<area shape="rect" href="uart0_8c.html#a35a7eca18d1cb9276ea9e446617f044a" title=" " alt="" coords="140,76,233,101"/>
<area shape="poly" title=" " alt="" coords="77,135,144,105,146,109,79,140"/>
<area shape="rect" href="page__alloc_8c.html#a785185764a5d4a0397d3bb22088ae63a" title=" " alt="" coords="141,137,233,163"/>
<area shape="poly" title=" " alt="" coords="92,147,127,147,127,153,92,153"/>
<area shape="rect" href="page__alloc_8c.html#a51700bb14c8e5dbe0fd489427a8b6588" title=" " alt="" coords="143,211,230,236"/>
<area shape="poly" title=" " alt="" coords="75,160,151,202,148,206,72,165"/>
<area shape="rect" href="uart0_8c.html#a25101a6b344e02d840568ef3d33b5b08" title=" " alt="" coords="515,32,633,57"/>
<area shape="poly" title=" " alt="" coords="198,74,232,43,255,28,280,17,312,9,345,4,410,5,471,13,522,26,521,31,470,19,409,10,345,10,313,14,282,22,258,33,236,48,202,78"/>
<area shape="rect" href="uart0_8c.html#a67f62805cb45162f505346cb0ed7d2ef" title=" " alt="" coords="303,32,445,57"/>
<area shape="poly" title=" " alt="" coords="233,75,306,58,307,63,234,80"/>
<area shape="rect" href="uart0_8c.html#ab670ad0f8990c412e0b7ded2e6797f26" title=" " alt="" coords="281,81,467,107"/>
<area shape="poly" title=" " alt="" coords="234,87,268,88,267,94,234,93"/>
<area shape="poly" title=" " alt="" coords="445,42,501,42,501,47,445,47"/>
<area shape="poly" title=" " alt="" coords="426,79,508,58,509,63,427,84"/>
<area shape="rect" href="page__alloc_8c.html#ae5a8fe74f6224563d792007d975101fd" title=" " alt="" coords="305,180,443,205"/>
<area shape="poly" title=" " alt="" coords="233,158,305,174,304,179,232,163"/>
<area shape="rect" href="page__alloc_8c.html#adb4fee457ae8d9e5682a60a7456eeac2" title=" " alt="" coords="318,131,430,156"/>
<area shape="poly" title=" " alt="" coords="233,146,304,143,305,148,233,151"/>
<area shape="poly" title=" " alt="" coords="230,214,290,204,291,209,231,219"/>
<area shape="rect" href="page__alloc_8c.html#a86258448e00d497b7de4d2551eb0337e" title=" " alt="" coords="327,229,421,255"/>
<area shape="poly" title=" " alt="" coords="231,225,314,233,314,239,230,230"/>
<area shape="rect" href="page__alloc_8c.html#a46b025a749f771f928c97f4687597c43" title=" " alt="" coords="323,279,425,304"/>
<area shape="poly" title=" " alt="" coords="213,234,282,265,310,274,308,279,280,270,211,239"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__alloc_8c_ac685d2b152de084be0cdab2e82f0e99d_icgraph.png" border="0" usemap="#apage__alloc_8c_ac685d2b152de084be0cdab2e82f0e99d_icgraph" alt=""/></div>
<map name="apage__alloc_8c_ac685d2b152de084be0cdab2e82f0e99d_icgraph" id="apage__alloc_8c_ac685d2b152de084be0cdab2e82f0e99d_icgraph">
<area shape="rect" title=" " alt="" coords="152,5,239,31"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,5,104,31"/>
<area shape="poly" title=" " alt="" coords="138,21,104,21,104,15,138,15"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
