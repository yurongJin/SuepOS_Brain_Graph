<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SuepOS: scheduler.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SuepOS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">scheduler.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="kernel__func_8h_source.html">kernel_func.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mem__info_8h_source.html">mem_info.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for scheduler.c:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c__incl.png" border="0" usemap="#ascheduler_8c" alt=""/></div>
<map name="ascheduler_8c" id="ascheduler_8c">
<area shape="rect" title=" " alt="" coords="109,5,204,31"/>
<area shape="rect" href="kernel__func_8h.html" title=" " alt="" coords="102,152,211,177"/>
<area shape="poly" title=" " alt="" coords="154,32,144,64,141,84,142,104,150,138,145,139,137,104,136,84,139,63,149,30"/>
<area shape="rect" href="mem__info_8h.html" title=" " alt="" coords="151,79,251,104"/>
<area shape="poly" title=" " alt="" coords="166,30,189,66,184,68,162,32"/>
<area shape="rect" href="type_8h.html" title=" " alt="" coords="5,225,68,251"/>
<area shape="poly" title=" " alt="" coords="139,180,70,220,67,216,136,175"/>
<area shape="rect" href="hardware__conf_8h.html" title=" " alt="" coords="92,225,221,251"/>
<area shape="poly" title=" " alt="" coords="159,178,159,212,154,212,154,178"/>
<area shape="rect" title=" " alt="" coords="246,225,321,251"/>
<area shape="poly" title=" " alt="" coords="178,175,252,216,249,221,176,180"/>
<area shape="poly" title=" " alt="" coords="196,106,173,142,169,139,191,103"/>
</map>
</div>
</div>
<p><a href="scheduler_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPCB.html">PCB</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structProcQueue.html">ProcQueue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a70688b1c3ab0aab15ede3968ef6ae9b0" id="r_a70688b1c3ab0aab15ede3968ef6ae9b0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#a70688b1c3ab0aab15ede3968ef6ae9b0">STACK_LENGTH</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a70688b1c3ab0aab15ede3968ef6ae9b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4c770f8a29f82d705f3d34839112bd1" id="r_ad4c770f8a29f82d705f3d34839112bd1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#ad4c770f8a29f82d705f3d34839112bd1">MAX_PROCESS</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:ad4c770f8a29f82d705f3d34839112bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a86b56be801a071f739ce359b56ae24fd" id="r_a86b56be801a071f739ce359b56ae24fd"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structPCB.html">PCB</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#a86b56be801a071f739ce359b56ae24fd">PCB</a></td></tr>
<tr class="separator:a86b56be801a071f739ce359b56ae24fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a2cd36584fb8713253a7cccb671e022ad" id="r_a2cd36584fb8713253a7cccb671e022ad"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ad">ProcState</a> { <a class="el" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022adabdfcacfbdcf7a5988ac184c1e27dbac8">PROC_READY</a>
, <a class="el" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ada4f8e3722918567a5d152312e9afab857">PROC_RUNNING</a>
, <a class="el" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022adaa45d8e2e52305f7951753a87f70b8ecf">PROC_BLOCKED</a>
, <a class="el" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ada2573c3ce38e1d26f8851e85b84f900ac">PROC_FINISHED</a>
 }</td></tr>
<tr class="separator:a2cd36584fb8713253a7cccb671e022ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a97dde9d5e0b018feddac600897f80308" id="r_a97dde9d5e0b018feddac600897f80308"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#a97dde9d5e0b018feddac600897f80308">shell</a> ()</td></tr>
<tr class="separator:a97dde9d5e0b018feddac600897f80308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a9e8e88caa777292eedffe625a1d8ec" id="r_a4a9e8e88caa777292eedffe625a1d8ec"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#a4a9e8e88caa777292eedffe625a1d8ec">my_mscratch</a> (<a class="el" href="type_8h.html#ab34ade737c844c29bd220cd0042d902d">reg</a> re)</td></tr>
<tr class="separator:a4a9e8e88caa777292eedffe625a1d8ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae9516034d9fb70413988eaef2641ccc" id="r_aae9516034d9fb70413988eaef2641ccc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#aae9516034d9fb70413988eaef2641ccc">user_first_process</a> (void)</td></tr>
<tr class="separator:aae9516034d9fb70413988eaef2641ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43f281413b5ffa10237716ca606acbb0" id="r_a43f281413b5ffa10237716ca606acbb0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#a43f281413b5ffa10237716ca606acbb0">CREATE_A_PROCESS</a> (void(*s)(void))</td></tr>
<tr class="separator:a43f281413b5ffa10237716ca606acbb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab258cc2856e5f6bb125907cc23358fbd" id="r_ab258cc2856e5f6bb125907cc23358fbd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#ab258cc2856e5f6bb125907cc23358fbd">scheduler_init</a> (void)</td></tr>
<tr class="separator:ab258cc2856e5f6bb125907cc23358fbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f61b81fe658d5243199cc814e3ec8a" id="r_a94f61b81fe658d5243199cc814e3ec8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#a94f61b81fe658d5243199cc814e3ec8a">process_give_up</a> (void)</td></tr>
<tr class="separator:a94f61b81fe658d5243199cc814e3ec8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fa00b0be5d3c4781048861e2506eb63" id="r_a9fa00b0be5d3c4781048861e2506eb63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#a9fa00b0be5d3c4781048861e2506eb63">scheduler</a> (void)</td></tr>
<tr class="separator:a9fa00b0be5d3c4781048861e2506eb63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eacdcdfdfb9ba0c6a62ee6206d0b1d4" id="r_a8eacdcdfdfb9ba0c6a62ee6206d0b1d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#a8eacdcdfdfb9ba0c6a62ee6206d0b1d4">delay</a> (int count)</td></tr>
<tr class="separator:a8eacdcdfdfb9ba0c6a62ee6206d0b1d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebdb54e5e3307f27106f43a7c4d3536c" id="r_aebdb54e5e3307f27106f43a7c4d3536c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#aebdb54e5e3307f27106f43a7c4d3536c">process_exit</a> (void)</td></tr>
<tr class="separator:aebdb54e5e3307f27106f43a7c4d3536c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32297afb9a12cc5f5fa8d609cad1f6e4" id="r_a32297afb9a12cc5f5fa8d609cad1f6e4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#a32297afb9a12cc5f5fa8d609cad1f6e4">init_queue</a> ()</td></tr>
<tr class="separator:a32297afb9a12cc5f5fa8d609cad1f6e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a006ad1cfbe8784659f68e9f9b73d89" id="r_a6a006ad1cfbe8784659f68e9f9b73d89"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#a6a006ad1cfbe8784659f68e9f9b73d89">enqueue</a> (<a class="el" href="structPCB.html">PCB</a> *pcb)</td></tr>
<tr class="separator:a6a006ad1cfbe8784659f68e9f9b73d89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a773d2d5aeb9ccb75c62c427f0c250df7" id="r_a773d2d5aeb9ccb75c62c427f0c250df7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structPCB.html">PCB</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#a773d2d5aeb9ccb75c62c427f0c250df7">dequeue</a> ()</td></tr>
<tr class="separator:a773d2d5aeb9ccb75c62c427f0c250df7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac522940717c1ef6a1b572048fd7e72ba" id="r_ac522940717c1ef6a1b572048fd7e72ba"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#ac522940717c1ef6a1b572048fd7e72ba">remove_from_queue</a> (<a class="el" href="structPCB.html">PCB</a> *pcb)</td></tr>
<tr class="separator:ac522940717c1ef6a1b572048fd7e72ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2e36c9731344cc9f977831826bd8185" id="r_ab2e36c9731344cc9f977831826bd8185"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#ab2e36c9731344cc9f977831826bd8185">debug_queue</a> ()</td></tr>
<tr class="separator:ab2e36c9731344cc9f977831826bd8185"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a095521d0f7f17f8d6255dfd3e653e9d1" id="r_a095521d0f7f17f8d6255dfd3e653e9d1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structProcQueue.html">ProcQueue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a></td></tr>
<tr class="separator:a095521d0f7f17f8d6255dfd3e653e9d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2033a3a73326dc816745b1ea83893a01" id="r_a2033a3a73326dc816745b1ea83893a01"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structPCB.html">PCB</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#a2033a3a73326dc816745b1ea83893a01">pcb_pool</a> [<a class="el" href="scheduler_8c.html#ad4c770f8a29f82d705f3d34839112bd1">MAX_PROCESS</a>]</td></tr>
<tr class="separator:a2033a3a73326dc816745b1ea83893a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa779e61f1ac9c66068a3145689456090" id="r_aa779e61f1ac9c66068a3145689456090"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#aa779e61f1ac9c66068a3145689456090">next_pid</a> = 1</td></tr>
<tr class="separator:aa779e61f1ac9c66068a3145689456090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab75489a9459a2c923e3efc841fcf7d0b" id="r_ab75489a9459a2c923e3efc841fcf7d0b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structPCB.html">PCB</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scheduler_8c.html#ab75489a9459a2c923e3efc841fcf7d0b">current_running</a> = NULL</td></tr>
<tr class="separator:ab75489a9459a2c923e3efc841fcf7d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad4c770f8a29f82d705f3d34839112bd1" name="ad4c770f8a29f82d705f3d34839112bd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4c770f8a29f82d705f3d34839112bd1">&#9670;&#160;</a></span>MAX_PROCESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PROCESS&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00004">4</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>

</div>
</div>
<a id="a70688b1c3ab0aab15ede3968ef6ae9b0" name="a70688b1c3ab0aab15ede3968ef6ae9b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70688b1c3ab0aab15ede3968ef6ae9b0">&#9670;&#160;</a></span>STACK_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STACK_LENGTH&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00003">3</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a86b56be801a071f739ce359b56ae24fd" name="a86b56be801a071f739ce359b56ae24fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86b56be801a071f739ce359b56ae24fd">&#9670;&#160;</a></span>PCB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structPCB.html">PCB</a> <a class="el" href="structPCB.html">PCB</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a2cd36584fb8713253a7cccb671e022ad" name="a2cd36584fb8713253a7cccb671e022ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cd36584fb8713253a7cccb671e022ad">&#9670;&#160;</a></span>ProcState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ad">ProcState</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2cd36584fb8713253a7cccb671e022adabdfcacfbdcf7a5988ac184c1e27dbac8" name="a2cd36584fb8713253a7cccb671e022adabdfcacfbdcf7a5988ac184c1e27dbac8"></a>PROC_READY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2cd36584fb8713253a7cccb671e022ada4f8e3722918567a5d152312e9afab857" name="a2cd36584fb8713253a7cccb671e022ada4f8e3722918567a5d152312e9afab857"></a>PROC_RUNNING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2cd36584fb8713253a7cccb671e022adaa45d8e2e52305f7951753a87f70b8ecf" name="a2cd36584fb8713253a7cccb671e022adaa45d8e2e52305f7951753a87f70b8ecf"></a>PROC_BLOCKED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2cd36584fb8713253a7cccb671e022ada2573c3ce38e1d26f8851e85b84f900ac" name="a2cd36584fb8713253a7cccb671e022ada2573c3ce38e1d26f8851e85b84f900ac"></a>PROC_FINISHED&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00006">6</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    6</span>             {</div>
<div class="line"><span class="lineno">    7</span>    <a class="code hl_enumvalue" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022adabdfcacfbdcf7a5988ac184c1e27dbac8">PROC_READY</a>,       <span class="comment">// 就绪</span></div>
<div class="line"><span class="lineno">    8</span>    <a class="code hl_enumvalue" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ada4f8e3722918567a5d152312e9afab857">PROC_RUNNING</a>,     <span class="comment">// 运行中</span></div>
<div class="line"><span class="lineno">    9</span>    <a class="code hl_enumvalue" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022adaa45d8e2e52305f7951753a87f70b8ecf">PROC_BLOCKED</a>,     <span class="comment">// 阻塞</span></div>
<div class="line"><span class="lineno">   10</span>    <a class="code hl_enumvalue" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ada2573c3ce38e1d26f8851e85b84f900ac">PROC_FINISHED</a>     <span class="comment">// 已完成</span></div>
<div class="line"><span class="lineno">   11</span>} <a class="code hl_enumeration" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ad">ProcState</a>;</div>
<div class="ttc" id="ascheduler_8c_html_a2cd36584fb8713253a7cccb671e022ad"><div class="ttname"><a href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ad">ProcState</a></div><div class="ttdeci">ProcState</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00006">scheduler.c:6</a></div></div>
<div class="ttc" id="ascheduler_8c_html_a2cd36584fb8713253a7cccb671e022ada2573c3ce38e1d26f8851e85b84f900ac"><div class="ttname"><a href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ada2573c3ce38e1d26f8851e85b84f900ac">PROC_FINISHED</a></div><div class="ttdeci">@ PROC_FINISHED</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00011">scheduler.c:10</a></div></div>
<div class="ttc" id="ascheduler_8c_html_a2cd36584fb8713253a7cccb671e022ada4f8e3722918567a5d152312e9afab857"><div class="ttname"><a href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ada4f8e3722918567a5d152312e9afab857">PROC_RUNNING</a></div><div class="ttdeci">@ PROC_RUNNING</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00008">scheduler.c:8</a></div></div>
<div class="ttc" id="ascheduler_8c_html_a2cd36584fb8713253a7cccb671e022adaa45d8e2e52305f7951753a87f70b8ecf"><div class="ttname"><a href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022adaa45d8e2e52305f7951753a87f70b8ecf">PROC_BLOCKED</a></div><div class="ttdeci">@ PROC_BLOCKED</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00009">scheduler.c:9</a></div></div>
<div class="ttc" id="ascheduler_8c_html_a2cd36584fb8713253a7cccb671e022adabdfcacfbdcf7a5988ac184c1e27dbac8"><div class="ttname"><a href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022adabdfcacfbdcf7a5988ac184c1e27dbac8">PROC_READY</a></div><div class="ttdeci">@ PROC_READY</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00007">scheduler.c:7</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a43f281413b5ffa10237716ca606acbb0" name="a43f281413b5ffa10237716ca606acbb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43f281413b5ffa10237716ca606acbb0">&#9670;&#160;</a></span>CREATE_A_PROCESS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CREATE_A_PROCESS </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00115">115</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  115</span>                                      {</div>
<div class="line"><span class="lineno">  116</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> next_pcb_index = 0;  <span class="comment">// static var to trace the next index of pcb</span></div>
<div class="line"><span class="lineno">  117</span>    <span class="keywordtype">void</span>* stack_page = <a class="code hl_function" href="kernel__func_8h.html#a785185764a5d4a0397d3bb22088ae63a">page_alloc</a>(1);</div>
<div class="line"><span class="lineno">  118</span>    <span class="keywordflow">if</span> (!stack_page) {</div>
<div class="line"><span class="lineno">  119</span>        <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Error: Stack allocation failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  120</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  121</span>    }</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>    <a class="code hl_struct" href="structPCB.html">PCB</a>* pcb = NULL;</div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_define" href="scheduler_8c.html#ad4c770f8a29f82d705f3d34839112bd1">MAX_PROCESS</a>; i++) {</div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordtype">int</span> index = (next_pcb_index + i) % <a class="code hl_define" href="scheduler_8c.html#ad4c770f8a29f82d705f3d34839112bd1">MAX_PROCESS</a>;</div>
<div class="line"><span class="lineno">  126</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="scheduler_8c.html#a2033a3a73326dc816745b1ea83893a01">pcb_pool</a>[index].state == <a class="code hl_enumvalue" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ada2573c3ce38e1d26f8851e85b84f900ac">PROC_FINISHED</a> || <a class="code hl_variable" href="scheduler_8c.html#a2033a3a73326dc816745b1ea83893a01">pcb_pool</a>[index].state == 0) {</div>
<div class="line"><span class="lineno">  127</span>            pcb = &amp;<a class="code hl_variable" href="scheduler_8c.html#a2033a3a73326dc816745b1ea83893a01">pcb_pool</a>[index];</div>
<div class="line"><span class="lineno">  128</span>            next_pcb_index = (index + 1) % <a class="code hl_define" href="scheduler_8c.html#ad4c770f8a29f82d705f3d34839112bd1">MAX_PROCESS</a>; </div>
<div class="line"><span class="lineno">  129</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  130</span>        }</div>
<div class="line"><span class="lineno">  131</span>    }</div>
<div class="line"><span class="lineno">  132</span>    </div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">if</span> (!pcb) {</div>
<div class="line"><span class="lineno">  134</span>        <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Error: No available PCB\n&quot;</span>);</div>
<div class="line"><span class="lineno">  135</span>        <a class="code hl_function" href="kernel__func_8h.html#a51700bb14c8e5dbe0fd489427a8b6588">page_free</a>(stack_page);</div>
<div class="line"><span class="lineno">  136</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  137</span>    }</div>
<div class="line"><span class="lineno">  138</span>    pcb-&gt;<a class="code hl_variable" href="structPCB.html#ae788ed31e3946e3557a0c85044e93bc1">pid</a> = <a class="code hl_variable" href="scheduler_8c.html#aa779e61f1ac9c66068a3145689456090">next_pid</a>++;</div>
<div class="line"><span class="lineno">  139</span>    pcb-&gt;<a class="code hl_variable" href="structPCB.html#aaaefcda63740886bfde9d6776d3d0418">entry</a> = s;</div>
<div class="line"><span class="lineno">  140</span>    pcb-&gt;<a class="code hl_variable" href="structPCB.html#a7abe5eb0b2455398ac4c4fc309f796df">stack</a> = stack_page;</div>
<div class="line"><span class="lineno">  141</span>    pcb-&gt;<a class="code hl_variable" href="structPCB.html#ab22a65479b4dff5844132bffb3e0d568">state</a> = <a class="code hl_enumvalue" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022adabdfcacfbdcf7a5988ac184c1e27dbac8">PROC_READY</a>;</div>
<div class="line"><span class="lineno">  142</span>    pcb-&gt;<a class="code hl_variable" href="structPCB.html#ac312c3f3608c730b1661565f8b53d657">next</a> = NULL;</div>
<div class="line"><span class="lineno">  143</span>    pcb-&gt;<a class="code hl_variable" href="structPCB.html#ac097c976a8d753314b388df856f3822c">context</a>.<a class="code hl_variable" href="structGPRegister__context.html#a87fd1087573915a8fb66caa5e5395d5c">sp</a> = (<a class="code hl_typedef" href="type_8h.html#ab34ade737c844c29bd220cd0042d902d">reg</a>)((<a class="code hl_typedef" href="type_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>*)stack_page + <a class="code hl_define" href="mem__info_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>) &amp; ~0xF;</div>
<div class="line"><span class="lineno">  144</span>    pcb-&gt;<a class="code hl_variable" href="structPCB.html#ac097c976a8d753314b388df856f3822c">context</a>.<a class="code hl_variable" href="structGPRegister__context.html#a5aeaaa58d4869da1dc948e0b97d73ca4">ra</a> = (<a class="code hl_typedef" href="type_8h.html#ab34ade737c844c29bd220cd0042d902d">reg</a>)s;</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Created process %d at PCB[%d]\n&quot;</span>, </div>
<div class="line"><span class="lineno">  147</span>                pcb-&gt;<a class="code hl_variable" href="structPCB.html#ae788ed31e3946e3557a0c85044e93bc1">pid</a>, pcb - <a class="code hl_variable" href="scheduler_8c.html#a2033a3a73326dc816745b1ea83893a01">pcb_pool</a>);</div>
<div class="line"><span class="lineno">  148</span>    </div>
<div class="line"><span class="lineno">  149</span>    <a class="code hl_function" href="scheduler_8c.html#a6a006ad1cfbe8784659f68e9f9b73d89">enqueue</a>(pcb);</div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  151</span>}</div>
<div class="ttc" id="akernel__func_8h_html_a35a7eca18d1cb9276ea9e446617f044a"><div class="ttname"><a href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a></div><div class="ttdeci">void mini_printf(const char *fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="uart0_8c_source.html#l00099">uart0.c:99</a></div></div>
<div class="ttc" id="akernel__func_8h_html_a51700bb14c8e5dbe0fd489427a8b6588"><div class="ttname"><a href="kernel__func_8h.html#a51700bb14c8e5dbe0fd489427a8b6588">page_free</a></div><div class="ttdeci">void page_free(void *p)</div><div class="ttdef"><b>Definition</b> <a href="page__alloc_8c_source.html#l00118">page_alloc.c:118</a></div></div>
<div class="ttc" id="akernel__func_8h_html_a785185764a5d4a0397d3bb22088ae63a"><div class="ttname"><a href="kernel__func_8h.html#a785185764a5d4a0397d3bb22088ae63a">page_alloc</a></div><div class="ttdeci">void * page_alloc(int npages)</div><div class="ttdef"><b>Definition</b> <a href="page__alloc_8c_source.html#l00081">page_alloc.c:81</a></div></div>
<div class="ttc" id="amem__info_8h_html_a7d467c1d283fdfa1f2081ba1e0d01b6e"><div class="ttname"><a href="mem__info_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a></div><div class="ttdeci">#define PAGE_SIZE</div><div class="ttdef"><b>Definition</b> <a href="mem__info_8h_source.html#l00004">mem_info.h:4</a></div></div>
<div class="ttc" id="ascheduler_8c_html_a2033a3a73326dc816745b1ea83893a01"><div class="ttname"><a href="scheduler_8c.html#a2033a3a73326dc816745b1ea83893a01">pcb_pool</a></div><div class="ttdeci">static PCB pcb_pool[MAX_PROCESS]</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00050">scheduler.c:50</a></div></div>
<div class="ttc" id="ascheduler_8c_html_a6a006ad1cfbe8784659f68e9f9b73d89"><div class="ttname"><a href="scheduler_8c.html#a6a006ad1cfbe8784659f68e9f9b73d89">enqueue</a></div><div class="ttdeci">static void enqueue(PCB *pcb)</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00061">scheduler.c:61</a></div></div>
<div class="ttc" id="ascheduler_8c_html_aa779e61f1ac9c66068a3145689456090"><div class="ttname"><a href="scheduler_8c.html#aa779e61f1ac9c66068a3145689456090">next_pid</a></div><div class="ttdeci">static int next_pid</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00051">scheduler.c:51</a></div></div>
<div class="ttc" id="ascheduler_8c_html_ad4c770f8a29f82d705f3d34839112bd1"><div class="ttname"><a href="scheduler_8c.html#ad4c770f8a29f82d705f3d34839112bd1">MAX_PROCESS</a></div><div class="ttdeci">#define MAX_PROCESS</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00004">scheduler.c:4</a></div></div>
<div class="ttc" id="astructGPRegister__context_html_a5aeaaa58d4869da1dc948e0b97d73ca4"><div class="ttname"><a href="structGPRegister__context.html#a5aeaaa58d4869da1dc948e0b97d73ca4">GPRegister_context::ra</a></div><div class="ttdeci">reg ra</div><div class="ttdef"><b>Definition</b> <a href="kernel__func_8h_source.html#l00044">kernel_func.h:44</a></div></div>
<div class="ttc" id="astructGPRegister__context_html_a87fd1087573915a8fb66caa5e5395d5c"><div class="ttname"><a href="structGPRegister__context.html#a87fd1087573915a8fb66caa5e5395d5c">GPRegister_context::sp</a></div><div class="ttdeci">reg sp</div><div class="ttdef"><b>Definition</b> <a href="kernel__func_8h_source.html#l00044">kernel_func.h:44</a></div></div>
<div class="ttc" id="astructPCB_html"><div class="ttname"><a href="structPCB.html">PCB</a></div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00013">scheduler.c:13</a></div></div>
<div class="ttc" id="astructPCB_html_a7abe5eb0b2455398ac4c4fc309f796df"><div class="ttname"><a href="structPCB.html#a7abe5eb0b2455398ac4c4fc309f796df">PCB::stack</a></div><div class="ttdeci">uint8_t * stack</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00016">scheduler.c:16</a></div></div>
<div class="ttc" id="astructPCB_html_aaaefcda63740886bfde9d6776d3d0418"><div class="ttname"><a href="structPCB.html#aaaefcda63740886bfde9d6776d3d0418">PCB::entry</a></div><div class="ttdeci">void(* entry)(void)</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00014">scheduler.c:14</a></div></div>
<div class="ttc" id="astructPCB_html_ab22a65479b4dff5844132bffb3e0d568"><div class="ttname"><a href="structPCB.html#ab22a65479b4dff5844132bffb3e0d568">PCB::state</a></div><div class="ttdeci">ProcState state</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00017">scheduler.c:17</a></div></div>
<div class="ttc" id="astructPCB_html_ac097c976a8d753314b388df856f3822c"><div class="ttname"><a href="structPCB.html#ac097c976a8d753314b388df856f3822c">PCB::context</a></div><div class="ttdeci">CONTEXT context</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00015">scheduler.c:15</a></div></div>
<div class="ttc" id="astructPCB_html_ac312c3f3608c730b1661565f8b53d657"><div class="ttname"><a href="structPCB.html#ac312c3f3608c730b1661565f8b53d657">PCB::next</a></div><div class="ttdeci">struct PCB * next</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00019">scheduler.c:19</a></div></div>
<div class="ttc" id="astructPCB_html_ae788ed31e3946e3557a0c85044e93bc1"><div class="ttname"><a href="structPCB.html#ae788ed31e3946e3557a0c85044e93bc1">PCB::pid</a></div><div class="ttdeci">int pid</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00018">scheduler.c:18</a></div></div>
<div class="ttc" id="atype_8h_html_ab34ade737c844c29bd220cd0042d902d"><div class="ttname"><a href="type_8h.html#ab34ade737c844c29bd220cd0042d902d">reg</a></div><div class="ttdeci">uint32_t reg</div><div class="ttdef"><b>Definition</b> <a href="type_8h_source.html#l00012">type.h:12</a></div></div>
<div class="ttc" id="atype_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="type_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdef"><b>Definition</b> <a href="type_8h_source.html#l00009">type.h:9</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_a43f281413b5ffa10237716ca606acbb0_cgraph.png" border="0" usemap="#ascheduler_8c_a43f281413b5ffa10237716ca606acbb0_cgraph" alt=""/></div>
<map name="ascheduler_8c_a43f281413b5ffa10237716ca606acbb0_cgraph" id="ascheduler_8c_a43f281413b5ffa10237716ca606acbb0_cgraph">
<area shape="rect" title=" " alt="" coords="5,111,160,136"/>
<area shape="rect" href="scheduler_8c.html#a6a006ad1cfbe8784659f68e9f9b73d89" title=" " alt="" coords="215,36,294,61"/>
<area shape="poly" title=" " alt="" coords="112,108,211,64,213,69,114,113"/>
<area shape="rect" href="uart0_8c.html#a35a7eca18d1cb9276ea9e446617f044a" title=" " alt="" coords="208,85,301,111"/>
<area shape="poly" title=" " alt="" coords="160,109,194,104,194,110,161,115"/>
<area shape="rect" href="page__alloc_8c.html#a785185764a5d4a0397d3bb22088ae63a" title=" " alt="" coords="209,135,301,160"/>
<area shape="poly" title=" " alt="" coords="161,132,196,137,195,142,160,137"/>
<area shape="rect" href="page__alloc_8c.html#a51700bb14c8e5dbe0fd489427a8b6588" title=" " alt="" coords="211,208,298,233"/>
<area shape="poly" title=" " alt="" coords="107,134,221,199,218,204,105,138"/>
<area shape="rect" href="uart0_8c.html#a25101a6b344e02d840568ef3d33b5b08" title=" " alt="" coords="583,36,701,61"/>
<area shape="poly" title=" " alt="" coords="280,83,300,71,313,57,322,44,332,32,348,21,380,11,413,5,480,5,543,15,595,29,593,34,542,20,480,10,414,10,381,16,350,26,335,35,326,47,317,61,303,75,283,88"/>
<area shape="rect" href="uart0_8c.html#a67f62805cb45162f505346cb0ed7d2ef" title=" " alt="" coords="371,36,513,61"/>
<area shape="poly" title=" " alt="" coords="301,83,349,70,378,62,379,68,350,75,302,88"/>
<area shape="rect" href="uart0_8c.html#ab670ad0f8990c412e0b7ded2e6797f26" title=" " alt="" coords="349,85,535,111"/>
<area shape="poly" title=" " alt="" coords="302,95,336,95,336,101,302,101"/>
<area shape="poly" title=" " alt="" coords="513,46,569,46,569,51,513,51"/>
<area shape="poly" title=" " alt="" coords="494,83,576,62,577,67,495,88"/>
<area shape="rect" href="page__alloc_8c.html#ae5a8fe74f6224563d792007d975101fd" title=" " alt="" coords="373,184,511,209"/>
<area shape="poly" title=" " alt="" coords="301,157,381,178,379,183,300,162"/>
<area shape="rect" href="page__alloc_8c.html#adb4fee457ae8d9e5682a60a7456eeac2" title=" " alt="" coords="386,135,498,160"/>
<area shape="poly" title=" " alt="" coords="301,145,372,145,372,150,301,150"/>
<area shape="poly" title=" " alt="" coords="298,213,359,205,359,210,299,218"/>
<area shape="rect" href="page__alloc_8c.html#a86258448e00d497b7de4d2551eb0337e" title=" " alt="" coords="395,233,489,259"/>
<area shape="poly" title=" " alt="" coords="299,224,382,235,382,241,298,229"/>
<area shape="rect" href="page__alloc_8c.html#a46b025a749f771f928c97f4687597c43" title=" " alt="" coords="391,283,493,308"/>
<area shape="poly" title=" " alt="" coords="277,231,311,250,350,269,378,278,376,283,348,274,308,255,275,236"/>
</map>
</div>

</div>
</div>
<a id="ab2e36c9731344cc9f977831826bd8185" name="ab2e36c9731344cc9f977831826bd8185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2e36c9731344cc9f977831826bd8185">&#9670;&#160;</a></span>debug_queue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void debug_queue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00153">153</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  153</span>                          {</div>
<div class="line"><span class="lineno">  154</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Queue: &quot;</span>);</div>
<div class="line"><span class="lineno">  155</span>    <a class="code hl_struct" href="structPCB.html">PCB</a>* current = <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a38bba038a0fc6b578fbee52eecb87930">head</a>;</div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordflow">while</span> (current) {</div>
<div class="line"><span class="lineno">  157</span>        <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;%d(%s) &quot;</span>, current-&gt;<a class="code hl_variable" href="structPCB.html#ae788ed31e3946e3557a0c85044e93bc1">pid</a>, </div>
<div class="line"><span class="lineno">  158</span>                   current-&gt;<a class="code hl_variable" href="structPCB.html#ab22a65479b4dff5844132bffb3e0d568">state</a> == <a class="code hl_enumvalue" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022adabdfcacfbdcf7a5988ac184c1e27dbac8">PROC_READY</a> ? <span class="stringliteral">&quot;R&quot;</span> : </div>
<div class="line"><span class="lineno">  159</span>                   current-&gt;state == <a class="code hl_enumvalue" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ada4f8e3722918567a5d152312e9afab857">PROC_RUNNING</a> ? <span class="stringliteral">&quot;X&quot;</span> : <span class="stringliteral">&quot;F&quot;</span>);</div>
<div class="line"><span class="lineno">  160</span>        current = current-&gt;<a class="code hl_variable" href="structPCB.html#ac312c3f3608c730b1661565f8b53d657">next</a>;</div>
<div class="line"><span class="lineno">  161</span>    }</div>
<div class="line"><span class="lineno">  162</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  163</span>}</div>
<div class="ttc" id="ascheduler_8c_html_a095521d0f7f17f8d6255dfd3e653e9d1"><div class="ttname"><a href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a></div><div class="ttdeci">static ProcQueue pcb_queue</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00049">scheduler.c:49</a></div></div>
<div class="ttc" id="astructProcQueue_html_a38bba038a0fc6b578fbee52eecb87930"><div class="ttname"><a href="structProcQueue.html#a38bba038a0fc6b578fbee52eecb87930">ProcQueue::head</a></div><div class="ttdeci">PCB * head</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00024">scheduler.c:24</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_ab2e36c9731344cc9f977831826bd8185_cgraph.png" border="0" usemap="#ascheduler_8c_ab2e36c9731344cc9f977831826bd8185_cgraph" alt=""/></div>
<map name="ascheduler_8c_ab2e36c9731344cc9f977831826bd8185_cgraph" id="ascheduler_8c_ab2e36c9731344cc9f977831826bd8185_cgraph">
<area shape="rect" title=" " alt="" coords="5,26,115,51"/>
<area shape="rect" href="uart0_8c.html#a35a7eca18d1cb9276ea9e446617f044a" title=" " alt="" coords="163,26,256,51"/>
<area shape="poly" title=" " alt="" coords="115,36,149,36,149,41,115,41"/>
<area shape="rect" href="uart0_8c.html#a25101a6b344e02d840568ef3d33b5b08" title=" " alt="" coords="537,26,656,51"/>
<area shape="poly" title=" " alt="" coords="248,23,304,11,397,3,490,11,540,20,539,25,489,16,397,8,304,16,249,28"/>
<area shape="rect" href="uart0_8c.html#a67f62805cb45162f505346cb0ed7d2ef" title=" " alt="" coords="326,26,467,51"/>
<area shape="poly" title=" " alt="" coords="256,36,312,36,312,41,256,41"/>
<area shape="rect" href="uart0_8c.html#ab670ad0f8990c412e0b7ded2e6797f26" title=" " alt="" coords="304,75,489,101"/>
<area shape="poly" title=" " alt="" coords="257,48,335,69,334,74,256,53"/>
<area shape="poly" title=" " alt="" coords="468,36,523,36,523,41,468,41"/>
<area shape="poly" title=" " alt="" coords="448,73,531,52,532,57,449,78"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_ab2e36c9731344cc9f977831826bd8185_icgraph.png" border="0" usemap="#ascheduler_8c_ab2e36c9731344cc9f977831826bd8185_icgraph" alt=""/></div>
<map name="ascheduler_8c_ab2e36c9731344cc9f977831826bd8185_icgraph" id="ascheduler_8c_ab2e36c9731344cc9f977831826bd8185_icgraph">
<area shape="rect" title=" " alt="" coords="611,36,720,62"/>
<area shape="rect" href="scheduler_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="477,36,563,62"/>
<area shape="poly" title=" " alt="" coords="597,52,563,52,563,46,597,46"/>
<area shape="rect" href="scheduler_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title=" " alt="" coords="312,86,416,111"/>
<area shape="poly" title=" " alt="" coords="467,68,406,88,404,83,466,63"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,62,104,87"/>
<area shape="poly" title=" " alt="" coords="469,35,429,26,351,15,290,9,229,11,153,26,110,43,75,64,72,59,108,38,151,21,228,6,290,3,352,10,430,21,470,30"/>
<area shape="rect" href="scheduler_8c.html#a94f61b81fe658d5243199cc814e3ec8a" title=" " alt="" coords="299,36,429,62"/>
<area shape="poly" title=" " alt="" coords="464,52,429,52,429,46,464,46"/>
<area shape="rect" href="usr__mode_8c.html#a78a1dd5e8e2853c3dcd5f2d4da57159a" title=" " alt="" coords="152,36,251,62"/>
<area shape="poly" title=" " alt="" coords="307,84,244,64,245,59,309,79"/>
<area shape="rect" href="usr__mode_8c.html#acae953474a792b181887214714dcb862" title=" " alt="" coords="152,86,251,111"/>
<area shape="poly" title=" " alt="" coords="298,101,251,101,251,96,298,96"/>
<area shape="rect" href="usr__mode_8c.html#ab96d1aab428fad484e42d6180ece7424" title=" " alt="" coords="152,135,251,160"/>
<area shape="poly" title=" " alt="" coords="309,118,245,137,244,132,307,113"/>
<area shape="poly" title=" " alt="" coords="139,62,105,68,104,63,138,57"/>
<area shape="poly" title=" " alt="" coords="138,91,104,85,105,80,139,85"/>
<area shape="poly" title=" " alt="" coords="161,131,151,126,80,89,82,85,153,121,163,126"/>
<area shape="poly" title=" " alt="" coords="285,52,251,52,251,46,285,46"/>
<area shape="poly" title=" " alt="" coords="309,68,245,88,244,83,307,63"/>
<area shape="poly" title=" " alt="" coords="310,70,300,75,286,87,276,99,267,112,252,126,234,137,231,132,249,121,263,109,272,96,282,84,297,71,307,65"/>
</map>
</div>

</div>
</div>
<a id="a8eacdcdfdfb9ba0c6a62ee6206d0b1d4" name="a8eacdcdfdfb9ba0c6a62ee6206d0b1d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eacdcdfdfb9ba0c6a62ee6206d0b1d4">&#9670;&#160;</a></span>delay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delay </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00214">214</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  214</span>                      {</div>
<div class="line"><span class="lineno">  215</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> iterations = 50000;</div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">while</span> (count--) {</div>
<div class="line"><span class="lineno">  217</span>        <span class="keywordflow">for</span> (<span class="keyword">volatile</span> <span class="keywordtype">int</span> i = 0; i &lt; iterations; i++) {</div>
<div class="line"><span class="lineno">  218</span>            <span class="keyword">asm</span> <span class="keyword">volatile</span> (<span class="stringliteral">&quot;nop&quot;</span>); <span class="comment">// nop instruction opt</span></div>
<div class="line"><span class="lineno">  219</span>        }</div>
<div class="line"><span class="lineno">  220</span>    }</div>
<div class="line"><span class="lineno">  221</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_a8eacdcdfdfb9ba0c6a62ee6206d0b1d4_icgraph.png" border="0" usemap="#ascheduler_8c_a8eacdcdfdfb9ba0c6a62ee6206d0b1d4_icgraph" alt=""/></div>
<map name="ascheduler_8c_a8eacdcdfdfb9ba0c6a62ee6206d0b1d4_icgraph" id="ascheduler_8c_a8eacdcdfdfb9ba0c6a62ee6206d0b1d4_icgraph">
<area shape="rect" title=" " alt="" coords="299,55,357,80"/>
<area shape="rect" href="usr__mode_8c.html#a78a1dd5e8e2853c3dcd5f2d4da57159a" title=" " alt="" coords="152,5,251,31"/>
<area shape="poly" title=" " alt="" coords="285,54,234,33,236,28,287,49"/>
<area shape="rect" href="usr__mode_8c.html#acae953474a792b181887214714dcb862" title=" " alt="" coords="152,55,251,80"/>
<area shape="poly" title=" " alt="" coords="285,70,251,70,251,65,285,65"/>
<area shape="rect" href="usr__mode_8c.html#ab96d1aab428fad484e42d6180ece7424" title=" " alt="" coords="152,104,251,129"/>
<area shape="poly" title=" " alt="" coords="287,86,236,106,234,101,285,81"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,55,104,80"/>
<area shape="poly" title=" " alt="" coords="151,38,94,57,93,52,149,33"/>
<area shape="poly" title=" " alt="" coords="138,70,104,70,104,65,138,65"/>
<area shape="poly" title=" " alt="" coords="149,102,93,83,94,78,151,97"/>
</map>
</div>

</div>
</div>
<a id="a773d2d5aeb9ccb75c62c427f0c250df7" name="a773d2d5aeb9ccb75c62c427f0c250df7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a773d2d5aeb9ccb75c62c427f0c250df7">&#9670;&#160;</a></span>dequeue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structPCB.html">PCB</a> * dequeue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00073">73</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>                      {</div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a38bba038a0fc6b578fbee52eecb87930">head</a>) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">   75</span>    </div>
<div class="line"><span class="lineno">   76</span>    <a class="code hl_struct" href="structPCB.html">PCB</a>* front = <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a38bba038a0fc6b578fbee52eecb87930">head</a>;</div>
<div class="line"><span class="lineno">   77</span>    <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a38bba038a0fc6b578fbee52eecb87930">head</a> = front-&gt;<a class="code hl_variable" href="structPCB.html#ac312c3f3608c730b1661565f8b53d657">next</a>;</div>
<div class="line"><span class="lineno">   78</span>    </div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a38bba038a0fc6b578fbee52eecb87930">head</a>) {</div>
<div class="line"><span class="lineno">   80</span>        <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#adf1e3efa1874e77426b2c22084a28f94">tail</a> = NULL;</div>
<div class="line"><span class="lineno">   81</span>    }</div>
<div class="line"><span class="lineno">   82</span>    </div>
<div class="line"><span class="lineno">   83</span>    <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a0797f0e26b8995d29807c5c153cadfec">count</a>--;</div>
<div class="line"><span class="lineno">   84</span>    front-&gt;<a class="code hl_variable" href="structPCB.html#ac312c3f3608c730b1661565f8b53d657">next</a> = NULL;</div>
<div class="line"><span class="lineno">   85</span>    <span class="keywordflow">return</span> front;</div>
<div class="line"><span class="lineno">   86</span>}</div>
<div class="ttc" id="astructProcQueue_html_a0797f0e26b8995d29807c5c153cadfec"><div class="ttname"><a href="structProcQueue.html#a0797f0e26b8995d29807c5c153cadfec">ProcQueue::count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00026">scheduler.c:26</a></div></div>
<div class="ttc" id="astructProcQueue_html_adf1e3efa1874e77426b2c22084a28f94"><div class="ttname"><a href="structProcQueue.html#adf1e3efa1874e77426b2c22084a28f94">ProcQueue::tail</a></div><div class="ttdeci">PCB * tail</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00025">scheduler.c:25</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_a773d2d5aeb9ccb75c62c427f0c250df7_icgraph.png" border="0" usemap="#ascheduler_8c_a773d2d5aeb9ccb75c62c427f0c250df7_icgraph" alt=""/></div>
<map name="ascheduler_8c_a773d2d5aeb9ccb75c62c427f0c250df7_icgraph" id="ascheduler_8c_a773d2d5aeb9ccb75c62c427f0c250df7_icgraph">
<area shape="rect" title=" " alt="" coords="611,36,689,62"/>
<area shape="rect" href="scheduler_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="477,36,563,62"/>
<area shape="poly" title=" " alt="" coords="597,52,563,52,563,46,597,46"/>
<area shape="rect" href="scheduler_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title=" " alt="" coords="312,86,416,111"/>
<area shape="poly" title=" " alt="" coords="467,68,406,88,404,83,466,63"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,62,104,87"/>
<area shape="poly" title=" " alt="" coords="469,35,429,26,351,15,290,9,229,11,153,26,110,43,75,64,72,59,108,38,151,21,228,6,290,3,352,10,430,21,470,30"/>
<area shape="rect" href="scheduler_8c.html#a94f61b81fe658d5243199cc814e3ec8a" title=" " alt="" coords="299,36,429,62"/>
<area shape="poly" title=" " alt="" coords="464,52,429,52,429,46,464,46"/>
<area shape="rect" href="usr__mode_8c.html#a78a1dd5e8e2853c3dcd5f2d4da57159a" title=" " alt="" coords="152,36,251,62"/>
<area shape="poly" title=" " alt="" coords="307,84,244,64,245,59,309,79"/>
<area shape="rect" href="usr__mode_8c.html#acae953474a792b181887214714dcb862" title=" " alt="" coords="152,86,251,111"/>
<area shape="poly" title=" " alt="" coords="298,101,251,101,251,96,298,96"/>
<area shape="rect" href="usr__mode_8c.html#ab96d1aab428fad484e42d6180ece7424" title=" " alt="" coords="152,135,251,160"/>
<area shape="poly" title=" " alt="" coords="309,118,245,137,244,132,307,113"/>
<area shape="poly" title=" " alt="" coords="139,62,105,68,104,63,138,57"/>
<area shape="poly" title=" " alt="" coords="138,91,104,85,105,80,139,85"/>
<area shape="poly" title=" " alt="" coords="161,131,151,126,80,89,82,85,153,121,163,126"/>
<area shape="poly" title=" " alt="" coords="285,52,251,52,251,46,285,46"/>
<area shape="poly" title=" " alt="" coords="309,68,245,88,244,83,307,63"/>
<area shape="poly" title=" " alt="" coords="310,70,300,75,286,87,276,99,267,112,252,126,234,137,231,132,249,121,263,109,272,96,282,84,297,71,307,65"/>
</map>
</div>

</div>
</div>
<a id="a6a006ad1cfbe8784659f68e9f9b73d89" name="a6a006ad1cfbe8784659f68e9f9b73d89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a006ad1cfbe8784659f68e9f9b73d89">&#9670;&#160;</a></span>enqueue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void enqueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPCB.html">PCB</a> *&#160;</td>
          <td class="paramname"><em>pcb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00061">61</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   61</span>                              {</div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a38bba038a0fc6b578fbee52eecb87930">head</a>) {</div>
<div class="line"><span class="lineno">   63</span>        <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a38bba038a0fc6b578fbee52eecb87930">head</a> = pcb;</div>
<div class="line"><span class="lineno">   64</span>        <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#adf1e3efa1874e77426b2c22084a28f94">tail</a> = pcb;</div>
<div class="line"><span class="lineno">   65</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   66</span>        <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#adf1e3efa1874e77426b2c22084a28f94">tail</a>-&gt;<a class="code hl_variable" href="structPCB.html#ac312c3f3608c730b1661565f8b53d657">next</a> = pcb;</div>
<div class="line"><span class="lineno">   67</span>        <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#adf1e3efa1874e77426b2c22084a28f94">tail</a> = pcb;</div>
<div class="line"><span class="lineno">   68</span>    }</div>
<div class="line"><span class="lineno">   69</span>    pcb-&gt;<a class="code hl_variable" href="structPCB.html#ac312c3f3608c730b1661565f8b53d657">next</a> = NULL;</div>
<div class="line"><span class="lineno">   70</span>    <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a0797f0e26b8995d29807c5c153cadfec">count</a>++;</div>
<div class="line"><span class="lineno">   71</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_a6a006ad1cfbe8784659f68e9f9b73d89_icgraph.png" border="0" usemap="#ascheduler_8c_a6a006ad1cfbe8784659f68e9f9b73d89_icgraph" alt=""/></div>
<map name="ascheduler_8c_a6a006ad1cfbe8784659f68e9f9b73d89_icgraph" id="ascheduler_8c_a6a006ad1cfbe8784659f68e9f9b73d89_icgraph">
<area shape="rect" title=" " alt="" coords="501,31,580,56"/>
<area shape="rect" href="scheduler_8c.html#a43f281413b5ffa10237716ca606acbb0" title=" " alt="" coords="299,5,453,31"/>
<area shape="poly" title=" " alt="" coords="487,38,453,33,454,27,488,33"/>
<area shape="rect" href="scheduler_8c.html#a94f61b81fe658d5243199cc814e3ec8a" title=" " alt="" coords="311,55,441,80"/>
<area shape="poly" title=" " alt="" coords="488,54,442,60,441,55,487,48"/>
<area shape="rect" href="usr__mode_8c.html#a78a1dd5e8e2853c3dcd5f2d4da57159a" title=" " alt="" coords="152,5,251,31"/>
<area shape="poly" title=" " alt="" coords="317,53,247,33,248,28,318,48"/>
<area shape="rect" href="usr__mode_8c.html#acae953474a792b181887214714dcb862" title=" " alt="" coords="152,55,251,80"/>
<area shape="poly" title=" " alt="" coords="297,70,251,70,251,65,297,65"/>
<area shape="rect" href="usr__mode_8c.html#ab96d1aab428fad484e42d6180ece7424" title=" " alt="" coords="152,104,251,129"/>
<area shape="poly" title=" " alt="" coords="318,86,248,106,247,101,317,81"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,55,104,80"/>
<area shape="poly" title=" " alt="" coords="151,38,94,57,93,52,149,33"/>
<area shape="poly" title=" " alt="" coords="138,70,104,70,104,65,138,65"/>
<area shape="poly" title=" " alt="" coords="149,102,93,83,94,78,151,97"/>
</map>
</div>

</div>
</div>
<a id="a32297afb9a12cc5f5fa8d609cad1f6e4" name="a32297afb9a12cc5f5fa8d609cad1f6e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32297afb9a12cc5f5fa8d609cad1f6e4">&#9670;&#160;</a></span>init_queue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_queue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00055">55</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>                         {</div>
<div class="line"><span class="lineno">   56</span>    <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a38bba038a0fc6b578fbee52eecb87930">head</a> = NULL;</div>
<div class="line"><span class="lineno">   57</span>    <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#adf1e3efa1874e77426b2c22084a28f94">tail</a> = NULL;</div>
<div class="line"><span class="lineno">   58</span>    <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a0797f0e26b8995d29807c5c153cadfec">count</a> = 0;</div>
<div class="line"><span class="lineno">   59</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_a32297afb9a12cc5f5fa8d609cad1f6e4_icgraph.png" border="0" usemap="#ascheduler_8c_a32297afb9a12cc5f5fa8d609cad1f6e4_icgraph" alt=""/></div>
<map name="ascheduler_8c_a32297afb9a12cc5f5fa8d609cad1f6e4_icgraph" id="ascheduler_8c_a32297afb9a12cc5f5fa8d609cad1f6e4_icgraph">
<area shape="rect" title=" " alt="" coords="313,5,404,31"/>
<area shape="rect" href="scheduler_8c.html#ab258cc2856e5f6bb125907cc23358fbd" title=" " alt="" coords="152,5,265,31"/>
<area shape="poly" title=" " alt="" coords="300,21,266,21,266,15,300,15"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,5,104,31"/>
<area shape="poly" title=" " alt="" coords="138,21,104,21,104,15,138,15"/>
</map>
</div>

</div>
</div>
<a id="a4a9e8e88caa777292eedffe625a1d8ec" name="a4a9e8e88caa777292eedffe625a1d8ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a9e8e88caa777292eedffe625a1d8ec">&#9670;&#160;</a></span>my_mscratch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void my_mscratch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="type_8h.html#ab34ade737c844c29bd220cd0042d902d">reg</a>&#160;</td>
          <td class="paramname"><em>re</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00039">39</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   39</span>                                {</div>
<div class="line"><span class="lineno">   40</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;csrw mscratch, %0&quot;</span> : : <span class="stringliteral">&quot;r&quot;</span> (re));</div>
<div class="line"><span class="lineno">   41</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_a4a9e8e88caa777292eedffe625a1d8ec_icgraph.png" border="0" usemap="#ascheduler_8c_a4a9e8e88caa777292eedffe625a1d8ec_icgraph" alt=""/></div>
<map name="ascheduler_8c_a4a9e8e88caa777292eedffe625a1d8ec_icgraph" id="ascheduler_8c_a4a9e8e88caa777292eedffe625a1d8ec_icgraph">
<area shape="rect" title=" " alt="" coords="313,5,424,31"/>
<area shape="rect" href="scheduler_8c.html#ab258cc2856e5f6bb125907cc23358fbd" title=" " alt="" coords="152,5,265,31"/>
<area shape="poly" title=" " alt="" coords="300,21,266,21,266,15,300,15"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,5,104,31"/>
<area shape="poly" title=" " alt="" coords="138,21,104,21,104,15,138,15"/>
</map>
</div>

</div>
</div>
<a id="aebdb54e5e3307f27106f43a7c4d3536c" name="aebdb54e5e3307f27106f43a7c4d3536c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebdb54e5e3307f27106f43a7c4d3536c">&#9670;&#160;</a></span>process_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void process_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00225">225</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  226</span>{</div>
<div class="line"><span class="lineno">  227</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="scheduler_8c.html#ab75489a9459a2c923e3efc841fcf7d0b">current_running</a>){</div>
<div class="line"><span class="lineno">  228</span>        <span class="keywordtype">void</span>* stack_to_free = <a class="code hl_variable" href="scheduler_8c.html#ab75489a9459a2c923e3efc841fcf7d0b">current_running</a>-&gt;<a class="code hl_variable" href="structPCB.html#a7abe5eb0b2455398ac4c4fc309f796df">stack</a>;</div>
<div class="line"><span class="lineno">  229</span>        <span class="keywordtype">int</span> pid_to_free = <a class="code hl_variable" href="scheduler_8c.html#ab75489a9459a2c923e3efc841fcf7d0b">current_running</a>-&gt;<a class="code hl_variable" href="structPCB.html#ae788ed31e3946e3557a0c85044e93bc1">pid</a>;</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>        <a class="code hl_variable" href="scheduler_8c.html#ab75489a9459a2c923e3efc841fcf7d0b">current_running</a>-&gt;<a class="code hl_variable" href="structPCB.html#ab22a65479b4dff5844132bffb3e0d568">state</a> = <a class="code hl_enumvalue" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ada2573c3ce38e1d26f8851e85b84f900ac">PROC_FINISHED</a>;</div>
<div class="line"><span class="lineno">  232</span>        <a class="code hl_function" href="scheduler_8c.html#ac522940717c1ef6a1b572048fd7e72ba">remove_from_queue</a>(<a class="code hl_variable" href="scheduler_8c.html#ab75489a9459a2c923e3efc841fcf7d0b">current_running</a>);</div>
<div class="line"><span class="lineno">  233</span>        <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Process %d exiting\n&quot;</span>, pid_to_free);</div>
<div class="line"><span class="lineno">  234</span>        <a class="code hl_function" href="kernel__func_8h.html#a51700bb14c8e5dbe0fd489427a8b6588">page_free</a>(stack_to_free);</div>
<div class="line"><span class="lineno">  235</span>        <a class="code hl_function" href="scheduler_8c.html#a9fa00b0be5d3c4781048861e2506eb63">scheduler</a>();</div>
<div class="line"><span class="lineno">  236</span>        <span class="keywordflow">while</span> (1);</div>
<div class="line"><span class="lineno">  237</span>        </div>
<div class="line"><span class="lineno">  238</span>    }</div>
<div class="line"><span class="lineno">  239</span>}</div>
<div class="ttc" id="ascheduler_8c_html_a9fa00b0be5d3c4781048861e2506eb63"><div class="ttname"><a href="scheduler_8c.html#a9fa00b0be5d3c4781048861e2506eb63">scheduler</a></div><div class="ttdeci">void scheduler(void)</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00187">scheduler.c:187</a></div></div>
<div class="ttc" id="ascheduler_8c_html_ab75489a9459a2c923e3efc841fcf7d0b"><div class="ttname"><a href="scheduler_8c.html#ab75489a9459a2c923e3efc841fcf7d0b">current_running</a></div><div class="ttdeci">static PCB * current_running</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00052">scheduler.c:52</a></div></div>
<div class="ttc" id="ascheduler_8c_html_ac522940717c1ef6a1b572048fd7e72ba"><div class="ttname"><a href="scheduler_8c.html#ac522940717c1ef6a1b572048fd7e72ba">remove_from_queue</a></div><div class="ttdeci">static void remove_from_queue(PCB *pcb)</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00088">scheduler.c:88</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_aebdb54e5e3307f27106f43a7c4d3536c_cgraph.png" border="0" usemap="#ascheduler_8c_aebdb54e5e3307f27106f43a7c4d3536c_cgraph" alt=""/></div>
<map name="ascheduler_8c_aebdb54e5e3307f27106f43a7c4d3536c_cgraph" id="ascheduler_8c_aebdb54e5e3307f27106f43a7c4d3536c_cgraph">
<area shape="rect" title=" " alt="" coords="5,122,109,148"/>
<area shape="rect" href="uart0_8c.html#a35a7eca18d1cb9276ea9e446617f044a" title=" " alt="" coords="549,197,643,222"/>
<area shape="poly" title=" " alt="" coords="75,120,148,76,199,50,257,27,319,10,382,3,413,4,444,9,474,18,503,33,522,47,539,64,564,105,582,147,592,183,587,184,577,149,560,107,535,68,519,51,500,37,472,23,443,14,413,9,382,8,320,15,259,32,201,55,150,80,78,125"/>
<area shape="rect" href="page__alloc_8c.html#a51700bb14c8e5dbe0fd489427a8b6588" title=" " alt="" coords="193,97,279,122"/>
<area shape="poly" title=" " alt="" coords="109,125,178,115,179,120,110,130"/>
<area shape="rect" href="scheduler_8c.html#ac522940717c1ef6a1b572048fd7e72ba" title=" " alt="" coords="157,146,315,172"/>
<area shape="poly" title=" " alt="" coords="110,139,144,144,143,149,109,144"/>
<area shape="rect" href="scheduler_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="193,222,279,248"/>
<area shape="poly" title=" " alt="" coords="83,145,201,213,199,218,80,150"/>
<area shape="rect" href="uart0_8c.html#a25101a6b344e02d840568ef3d33b5b08" title=" " alt="" coords="924,197,1043,222"/>
<area shape="poly" title=" " alt="" coords="637,194,690,183,783,176,876,183,923,191,922,196,876,188,783,181,691,188,638,199"/>
<area shape="rect" href="uart0_8c.html#a67f62805cb45162f505346cb0ed7d2ef" title=" " alt="" coords="713,197,854,222"/>
<area shape="poly" title=" " alt="" coords="643,207,699,207,699,212,643,212"/>
<area shape="rect" href="uart0_8c.html#ab670ad0f8990c412e0b7ded2e6797f26" title=" " alt="" coords="691,246,876,272"/>
<area shape="poly" title=" " alt="" coords="644,219,691,232,721,240,719,245,690,237,642,225"/>
<area shape="poly" title=" " alt="" coords="854,207,910,207,910,212,854,212"/>
<area shape="poly" title=" " alt="" coords="835,244,917,223,919,228,836,249"/>
<area shape="rect" href="page__alloc_8c.html#a86258448e00d497b7de4d2551eb0337e" title=" " alt="" coords="385,48,479,73"/>
<area shape="poly" title=" " alt="" coords="279,96,371,73,373,78,280,101"/>
<area shape="rect" href="page__alloc_8c.html#ae5a8fe74f6224563d792007d975101fd" title=" " alt="" coords="363,97,501,122"/>
<area shape="poly" title=" " alt="" coords="280,107,349,107,349,112,280,112"/>
<area shape="rect" href="page__alloc_8c.html#a46b025a749f771f928c97f4687597c43" title=" " alt="" coords="381,146,483,172"/>
<area shape="poly" title=" " alt="" coords="280,118,368,140,367,145,279,123"/>
<area shape="poly" title=" " alt="" coords="278,229,536,211,536,216,279,235"/>
<area shape="rect" href="scheduler_8c.html#ab2e36c9731344cc9f977831826bd8185" title=" " alt="" coords="377,248,487,273"/>
<area shape="poly" title=" " alt="" coords="279,238,364,249,363,254,278,243"/>
<area shape="rect" href="scheduler_8c.html#a773d2d5aeb9ccb75c62c427f0c250df7" title=" " alt="" coords="393,297,471,322"/>
<area shape="poly" title=" " alt="" coords="269,245,364,283,381,290,380,295,362,288,267,250"/>
<area shape="poly" title=" " alt="" coords="473,245,540,224,542,229,475,250"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_aebdb54e5e3307f27106f43a7c4d3536c_icgraph.png" border="0" usemap="#ascheduler_8c_aebdb54e5e3307f27106f43a7c4d3536c_icgraph" alt=""/></div>
<map name="ascheduler_8c_aebdb54e5e3307f27106f43a7c4d3536c_icgraph" id="ascheduler_8c_aebdb54e5e3307f27106f43a7c4d3536c_icgraph">
<area shape="rect" title=" " alt="" coords="299,55,403,80"/>
<area shape="rect" href="usr__mode_8c.html#a78a1dd5e8e2853c3dcd5f2d4da57159a" title=" " alt="" coords="152,5,251,31"/>
<area shape="poly" title=" " alt="" coords="298,53,240,33,242,28,300,48"/>
<area shape="rect" href="usr__mode_8c.html#acae953474a792b181887214714dcb862" title=" " alt="" coords="152,55,251,80"/>
<area shape="poly" title=" " alt="" coords="285,70,251,70,251,65,285,65"/>
<area shape="rect" href="usr__mode_8c.html#ab96d1aab428fad484e42d6180ece7424" title=" " alt="" coords="152,104,251,129"/>
<area shape="poly" title=" " alt="" coords="300,87,242,106,240,101,298,82"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,55,104,80"/>
<area shape="poly" title=" " alt="" coords="151,38,94,57,93,52,149,33"/>
<area shape="poly" title=" " alt="" coords="138,70,104,70,104,65,138,65"/>
<area shape="poly" title=" " alt="" coords="149,102,93,83,94,78,151,97"/>
</map>
</div>

</div>
</div>
<a id="a94f61b81fe658d5243199cc814e3ec8a" name="a94f61b81fe658d5243199cc814e3ec8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94f61b81fe658d5243199cc814e3ec8a">&#9670;&#160;</a></span>process_give_up()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void process_give_up </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00179">179</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  179</span>                           {</div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="scheduler_8c.html#ab75489a9459a2c923e3efc841fcf7d0b">current_running</a> &amp;&amp; <a class="code hl_variable" href="scheduler_8c.html#ab75489a9459a2c923e3efc841fcf7d0b">current_running</a>-&gt;<a class="code hl_variable" href="structPCB.html#ab22a65479b4dff5844132bffb3e0d568">state</a> == <a class="code hl_enumvalue" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ada4f8e3722918567a5d152312e9afab857">PROC_RUNNING</a>) {</div>
<div class="line"><span class="lineno">  181</span>        <a class="code hl_variable" href="scheduler_8c.html#ab75489a9459a2c923e3efc841fcf7d0b">current_running</a>-&gt;<a class="code hl_variable" href="structPCB.html#ab22a65479b4dff5844132bffb3e0d568">state</a> = <a class="code hl_enumvalue" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022adabdfcacfbdcf7a5988ac184c1e27dbac8">PROC_READY</a>;</div>
<div class="line"><span class="lineno">  182</span>        <a class="code hl_function" href="scheduler_8c.html#a6a006ad1cfbe8784659f68e9f9b73d89">enqueue</a>(<a class="code hl_variable" href="scheduler_8c.html#ab75489a9459a2c923e3efc841fcf7d0b">current_running</a>);</div>
<div class="line"><span class="lineno">  183</span>    }</div>
<div class="line"><span class="lineno">  184</span>    <a class="code hl_function" href="scheduler_8c.html#a9fa00b0be5d3c4781048861e2506eb63">scheduler</a>();</div>
<div class="line"><span class="lineno">  185</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_a94f61b81fe658d5243199cc814e3ec8a_cgraph.png" border="0" usemap="#ascheduler_8c_a94f61b81fe658d5243199cc814e3ec8a_cgraph" alt=""/></div>
<map name="ascheduler_8c_a94f61b81fe658d5243199cc814e3ec8a_cgraph" id="ascheduler_8c_a94f61b81fe658d5243199cc814e3ec8a_cgraph">
<area shape="rect" title=" " alt="" coords="5,32,136,57"/>
<area shape="rect" href="scheduler_8c.html#a6a006ad1cfbe8784659f68e9f9b73d89" title=" " alt="" coords="187,7,266,32"/>
<area shape="poly" title=" " alt="" coords="136,31,174,25,174,30,137,37"/>
<area shape="rect" href="scheduler_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="184,56,269,81"/>
<area shape="poly" title=" " alt="" coords="137,52,171,57,170,63,136,57"/>
<area shape="rect" href="scheduler_8c.html#ab2e36c9731344cc9f977831826bd8185" title=" " alt="" coords="317,5,427,31"/>
<area shape="poly" title=" " alt="" coords="263,53,321,33,323,38,265,58"/>
<area shape="rect" href="uart0_8c.html#a35a7eca18d1cb9276ea9e446617f044a" title=" " alt="" coords="475,31,568,56"/>
<area shape="poly" title=" " alt="" coords="270,62,461,46,461,51,270,68"/>
<area shape="rect" href="scheduler_8c.html#a773d2d5aeb9ccb75c62c427f0c250df7" title=" " alt="" coords="333,107,411,132"/>
<area shape="poly" title=" " alt="" coords="265,79,323,100,321,105,263,84"/>
<area shape="poly" title=" " alt="" coords="427,25,462,31,461,36,426,30"/>
<area shape="rect" href="uart0_8c.html#a25101a6b344e02d840568ef3d33b5b08" title=" " alt="" coords="849,31,968,56"/>
<area shape="poly" title=" " alt="" coords="560,28,616,15,709,8,802,15,852,25,851,30,801,21,709,13,616,21,561,33"/>
<area shape="rect" href="uart0_8c.html#a67f62805cb45162f505346cb0ed7d2ef" title=" " alt="" coords="638,31,779,56"/>
<area shape="poly" title=" " alt="" coords="568,41,624,41,624,46,568,46"/>
<area shape="rect" href="uart0_8c.html#ab670ad0f8990c412e0b7ded2e6797f26" title=" " alt="" coords="616,80,801,105"/>
<area shape="poly" title=" " alt="" coords="569,53,647,74,646,79,568,58"/>
<area shape="poly" title=" " alt="" coords="780,41,835,41,835,46,780,46"/>
<area shape="poly" title=" " alt="" coords="760,77,843,57,844,62,761,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_a94f61b81fe658d5243199cc814e3ec8a_icgraph.png" border="0" usemap="#ascheduler_8c_a94f61b81fe658d5243199cc814e3ec8a_icgraph" alt=""/></div>
<map name="ascheduler_8c_a94f61b81fe658d5243199cc814e3ec8a_icgraph" id="ascheduler_8c_a94f61b81fe658d5243199cc814e3ec8a_icgraph">
<area shape="rect" title=" " alt="" coords="299,55,429,80"/>
<area shape="rect" href="usr__mode_8c.html#a78a1dd5e8e2853c3dcd5f2d4da57159a" title=" " alt="" coords="152,5,251,31"/>
<area shape="poly" title=" " alt="" coords="307,53,244,33,245,28,309,48"/>
<area shape="rect" href="usr__mode_8c.html#acae953474a792b181887214714dcb862" title=" " alt="" coords="152,55,251,80"/>
<area shape="poly" title=" " alt="" coords="285,70,251,70,251,65,285,65"/>
<area shape="rect" href="usr__mode_8c.html#ab96d1aab428fad484e42d6180ece7424" title=" " alt="" coords="152,104,251,129"/>
<area shape="poly" title=" " alt="" coords="309,87,245,106,244,101,307,82"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,55,104,80"/>
<area shape="poly" title=" " alt="" coords="151,38,94,57,93,52,149,33"/>
<area shape="poly" title=" " alt="" coords="138,70,104,70,104,65,138,65"/>
<area shape="poly" title=" " alt="" coords="149,102,93,83,94,78,151,97"/>
</map>
</div>

</div>
</div>
<a id="ac522940717c1ef6a1b572048fd7e72ba" name="ac522940717c1ef6a1b572048fd7e72ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac522940717c1ef6a1b572048fd7e72ba">&#9670;&#160;</a></span>remove_from_queue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void remove_from_queue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPCB.html">PCB</a> *&#160;</td>
          <td class="paramname"><em>pcb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00088">88</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   88</span>                                        {</div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a38bba038a0fc6b578fbee52eecb87930">head</a> || !pcb) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   90</span>    </div>
<div class="line"><span class="lineno">   91</span>    <a class="code hl_struct" href="structPCB.html">PCB</a>* prev = NULL;</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_struct" href="structPCB.html">PCB</a>* curr = <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a38bba038a0fc6b578fbee52eecb87930">head</a>;</div>
<div class="line"><span class="lineno">   93</span>    </div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordflow">while</span> (curr) {</div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordflow">if</span> (curr == pcb) {</div>
<div class="line"><span class="lineno">   96</span>            <span class="keywordflow">if</span> (prev) {</div>
<div class="line"><span class="lineno">   97</span>                prev-&gt;<a class="code hl_variable" href="structPCB.html#ac312c3f3608c730b1661565f8b53d657">next</a> = curr-&gt;<a class="code hl_variable" href="structPCB.html#ac312c3f3608c730b1661565f8b53d657">next</a>;</div>
<div class="line"><span class="lineno">   98</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   99</span>                <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a38bba038a0fc6b578fbee52eecb87930">head</a> = curr-&gt;<a class="code hl_variable" href="structPCB.html#ac312c3f3608c730b1661565f8b53d657">next</a>;</div>
<div class="line"><span class="lineno">  100</span>            }</div>
<div class="line"><span class="lineno">  101</span>            </div>
<div class="line"><span class="lineno">  102</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#adf1e3efa1874e77426b2c22084a28f94">tail</a> == curr) {</div>
<div class="line"><span class="lineno">  103</span>                <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#adf1e3efa1874e77426b2c22084a28f94">tail</a> = prev;</div>
<div class="line"><span class="lineno">  104</span>            }</div>
<div class="line"><span class="lineno">  105</span>            </div>
<div class="line"><span class="lineno">  106</span>            <a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a0797f0e26b8995d29807c5c153cadfec">count</a>--;</div>
<div class="line"><span class="lineno">  107</span>            curr-&gt;<a class="code hl_variable" href="structPCB.html#ac312c3f3608c730b1661565f8b53d657">next</a> = NULL;</div>
<div class="line"><span class="lineno">  108</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  109</span>        }</div>
<div class="line"><span class="lineno">  110</span>        prev = curr;</div>
<div class="line"><span class="lineno">  111</span>        curr = curr-&gt;<a class="code hl_variable" href="structPCB.html#ac312c3f3608c730b1661565f8b53d657">next</a>;</div>
<div class="line"><span class="lineno">  112</span>    }</div>
<div class="line"><span class="lineno">  113</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_ac522940717c1ef6a1b572048fd7e72ba_icgraph.png" border="0" usemap="#ascheduler_8c_ac522940717c1ef6a1b572048fd7e72ba_icgraph" alt=""/></div>
<map name="ascheduler_8c_ac522940717c1ef6a1b572048fd7e72ba_icgraph" id="ascheduler_8c_ac522940717c1ef6a1b572048fd7e72ba_icgraph">
<area shape="rect" title=" " alt="" coords="451,55,608,80"/>
<area shape="rect" href="scheduler_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title=" " alt="" coords="299,55,403,80"/>
<area shape="poly" title=" " alt="" coords="437,70,403,70,403,65,437,65"/>
<area shape="rect" href="usr__mode_8c.html#a78a1dd5e8e2853c3dcd5f2d4da57159a" title=" " alt="" coords="152,5,251,31"/>
<area shape="poly" title=" " alt="" coords="298,53,240,33,242,28,300,48"/>
<area shape="rect" href="usr__mode_8c.html#acae953474a792b181887214714dcb862" title=" " alt="" coords="152,55,251,80"/>
<area shape="poly" title=" " alt="" coords="285,70,251,70,251,65,285,65"/>
<area shape="rect" href="usr__mode_8c.html#ab96d1aab428fad484e42d6180ece7424" title=" " alt="" coords="152,104,251,129"/>
<area shape="poly" title=" " alt="" coords="300,87,242,106,240,101,298,82"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,55,104,80"/>
<area shape="poly" title=" " alt="" coords="151,38,94,57,93,52,149,33"/>
<area shape="poly" title=" " alt="" coords="138,70,104,70,104,65,138,65"/>
<area shape="poly" title=" " alt="" coords="149,102,93,83,94,78,151,97"/>
</map>
</div>

</div>
</div>
<a id="a9fa00b0be5d3c4781048861e2506eb63" name="a9fa00b0be5d3c4781048861e2506eb63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fa00b0be5d3c4781048861e2506eb63">&#9670;&#160;</a></span>scheduler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scheduler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00187">187</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  187</span>                 {</div>
<div class="line"><span class="lineno">  188</span>    <a class="code hl_function" href="scheduler_8c.html#ab2e36c9731344cc9f977831826bd8185">debug_queue</a>();</div>
<div class="line"><span class="lineno">  189</span>    </div>
<div class="line"><span class="lineno">  190</span>    <a class="code hl_struct" href="structPCB.html">PCB</a>* next = NULL;</div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="scheduler_8c.html#a095521d0f7f17f8d6255dfd3e653e9d1">pcb_queue</a>.<a class="code hl_variable" href="structProcQueue.html#a0797f0e26b8995d29807c5c153cadfec">count</a> &gt; 0) {</div>
<div class="line"><span class="lineno">  192</span>        next = <a class="code hl_function" href="scheduler_8c.html#a773d2d5aeb9ccb75c62c427f0c250df7">dequeue</a>();</div>
<div class="line"><span class="lineno">  193</span>        <span class="keywordflow">if</span> (next-&gt;<a class="code hl_variable" href="structPCB.html#ab22a65479b4dff5844132bffb3e0d568">state</a> == <a class="code hl_enumvalue" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022adabdfcacfbdcf7a5988ac184c1e27dbac8">PROC_READY</a>) {</div>
<div class="line"><span class="lineno">  194</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  195</span>        }</div>
<div class="line"><span class="lineno">  196</span>        next = NULL;</div>
<div class="line"><span class="lineno">  197</span>    }</div>
<div class="line"><span class="lineno">  198</span>    </div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">if</span> (!next) {</div>
<div class="line"><span class="lineno">  200</span>        <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;No ready process\n&quot;</span>);</div>
<div class="line"><span class="lineno">  201</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  202</span>    }</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="scheduler_8c.html#ab75489a9459a2c923e3efc841fcf7d0b">current_running</a>) {</div>
<div class="line"><span class="lineno">  205</span>        <a class="code hl_variable" href="scheduler_8c.html#ab75489a9459a2c923e3efc841fcf7d0b">current_running</a>-&gt;<a class="code hl_variable" href="structPCB.html#ab22a65479b4dff5844132bffb3e0d568">state</a> = <a class="code hl_enumvalue" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022adabdfcacfbdcf7a5988ac184c1e27dbac8">PROC_READY</a>;</div>
<div class="line"><span class="lineno">  206</span>    }</div>
<div class="line"><span class="lineno">  207</span>    </div>
<div class="line"><span class="lineno">  208</span>    next-&gt;<a class="code hl_variable" href="structPCB.html#ab22a65479b4dff5844132bffb3e0d568">state</a> = <a class="code hl_enumvalue" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ada4f8e3722918567a5d152312e9afab857">PROC_RUNNING</a>;</div>
<div class="line"><span class="lineno">  209</span>    <a class="code hl_variable" href="scheduler_8c.html#ab75489a9459a2c923e3efc841fcf7d0b">current_running</a> = next;</div>
<div class="line"><span class="lineno">  210</span>    </div>
<div class="line"><span class="lineno">  211</span>    switch_to_context(&amp;next-&gt;<a class="code hl_variable" href="structPCB.html#ac097c976a8d753314b388df856f3822c">context</a>);</div>
<div class="line"><span class="lineno">  212</span>}</div>
<div class="ttc" id="ascheduler_8c_html_a773d2d5aeb9ccb75c62c427f0c250df7"><div class="ttname"><a href="scheduler_8c.html#a773d2d5aeb9ccb75c62c427f0c250df7">dequeue</a></div><div class="ttdeci">static PCB * dequeue()</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00073">scheduler.c:73</a></div></div>
<div class="ttc" id="ascheduler_8c_html_ab2e36c9731344cc9f977831826bd8185"><div class="ttname"><a href="scheduler_8c.html#ab2e36c9731344cc9f977831826bd8185">debug_queue</a></div><div class="ttdeci">static void debug_queue()</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00153">scheduler.c:153</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_a9fa00b0be5d3c4781048861e2506eb63_cgraph.png" border="0" usemap="#ascheduler_8c_a9fa00b0be5d3c4781048861e2506eb63_cgraph" alt=""/></div>
<map name="ascheduler_8c_a9fa00b0be5d3c4781048861e2506eb63_cgraph" id="ascheduler_8c_a9fa00b0be5d3c4781048861e2506eb63_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,91,81"/>
<area shape="rect" href="scheduler_8c.html#ab2e36c9731344cc9f977831826bd8185" title=" " alt="" coords="139,5,248,31"/>
<area shape="poly" title=" " alt="" coords="84,53,142,33,144,38,86,58"/>
<area shape="rect" href="uart0_8c.html#a35a7eca18d1cb9276ea9e446617f044a" title=" " alt="" coords="296,31,389,56"/>
<area shape="poly" title=" " alt="" coords="91,62,282,46,283,51,91,68"/>
<area shape="rect" href="scheduler_8c.html#a773d2d5aeb9ccb75c62c427f0c250df7" title=" " alt="" coords="154,107,233,132"/>
<area shape="poly" title=" " alt="" coords="86,79,144,100,142,105,84,84"/>
<area shape="poly" title=" " alt="" coords="248,25,283,31,282,36,248,30"/>
<area shape="rect" href="uart0_8c.html#a25101a6b344e02d840568ef3d33b5b08" title=" " alt="" coords="671,31,789,56"/>
<area shape="poly" title=" " alt="" coords="381,28,437,15,530,8,623,15,673,25,672,30,622,21,530,13,438,21,382,33"/>
<area shape="rect" href="uart0_8c.html#a67f62805cb45162f505346cb0ed7d2ef" title=" " alt="" coords="459,31,601,56"/>
<area shape="poly" title=" " alt="" coords="390,41,445,41,445,46,390,46"/>
<area shape="rect" href="uart0_8c.html#ab670ad0f8990c412e0b7ded2e6797f26" title=" " alt="" coords="437,80,623,105"/>
<area shape="poly" title=" " alt="" coords="390,53,469,74,467,79,389,58"/>
<area shape="poly" title=" " alt="" coords="601,41,657,41,657,46,601,46"/>
<area shape="poly" title=" " alt="" coords="582,77,664,57,665,62,583,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_a9fa00b0be5d3c4781048861e2506eb63_icgraph.png" border="0" usemap="#ascheduler_8c_a9fa00b0be5d3c4781048861e2506eb63_icgraph" alt=""/></div>
<map name="ascheduler_8c_a9fa00b0be5d3c4781048861e2506eb63_icgraph" id="ascheduler_8c_a9fa00b0be5d3c4781048861e2506eb63_icgraph">
<area shape="rect" title=" " alt="" coords="477,36,563,62"/>
<area shape="rect" href="scheduler_8c.html#aebdb54e5e3307f27106f43a7c4d3536c" title=" " alt="" coords="312,86,416,111"/>
<area shape="poly" title=" " alt="" coords="467,68,406,88,404,83,466,63"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,62,104,87"/>
<area shape="poly" title=" " alt="" coords="469,35,429,26,351,15,290,9,229,11,153,26,110,43,75,64,72,59,108,38,151,21,228,6,290,3,352,10,430,21,470,30"/>
<area shape="rect" href="scheduler_8c.html#a94f61b81fe658d5243199cc814e3ec8a" title=" " alt="" coords="299,36,429,62"/>
<area shape="poly" title=" " alt="" coords="464,52,429,52,429,46,464,46"/>
<area shape="rect" href="usr__mode_8c.html#a78a1dd5e8e2853c3dcd5f2d4da57159a" title=" " alt="" coords="152,36,251,62"/>
<area shape="poly" title=" " alt="" coords="307,84,244,64,245,59,309,79"/>
<area shape="rect" href="usr__mode_8c.html#acae953474a792b181887214714dcb862" title=" " alt="" coords="152,86,251,111"/>
<area shape="poly" title=" " alt="" coords="298,101,251,101,251,96,298,96"/>
<area shape="rect" href="usr__mode_8c.html#ab96d1aab428fad484e42d6180ece7424" title=" " alt="" coords="152,135,251,160"/>
<area shape="poly" title=" " alt="" coords="309,118,245,137,244,132,307,113"/>
<area shape="poly" title=" " alt="" coords="139,62,105,68,104,63,138,57"/>
<area shape="poly" title=" " alt="" coords="138,91,104,85,105,80,139,85"/>
<area shape="poly" title=" " alt="" coords="161,131,151,126,80,89,82,85,153,121,163,126"/>
<area shape="poly" title=" " alt="" coords="285,52,251,52,251,46,285,46"/>
<area shape="poly" title=" " alt="" coords="309,68,245,88,244,83,307,63"/>
<area shape="poly" title=" " alt="" coords="310,70,300,75,286,87,276,99,267,112,252,126,234,137,231,132,249,121,263,109,272,96,282,84,297,71,307,65"/>
</map>
</div>

</div>
</div>
<a id="ab258cc2856e5f6bb125907cc23358fbd" name="ab258cc2856e5f6bb125907cc23358fbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab258cc2856e5f6bb125907cc23358fbd">&#9670;&#160;</a></span>scheduler_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scheduler_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00165">165</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  165</span>                          {</div>
<div class="line"><span class="lineno">  166</span>    <a class="code hl_function" href="scheduler_8c.html#a4a9e8e88caa777292eedffe625a1d8ec">my_mscratch</a>(0);</div>
<div class="line"><span class="lineno">  167</span>    <a class="code hl_function" href="scheduler_8c.html#a32297afb9a12cc5f5fa8d609cad1f6e4">init_queue</a>();</div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_define" href="scheduler_8c.html#ad4c770f8a29f82d705f3d34839112bd1">MAX_PROCESS</a>; i++) {</div>
<div class="line"><span class="lineno">  169</span>        <a class="code hl_variable" href="scheduler_8c.html#a2033a3a73326dc816745b1ea83893a01">pcb_pool</a>[i].<a class="code hl_variable" href="structPCB.html#ab22a65479b4dff5844132bffb3e0d568">state</a> = <a class="code hl_enumvalue" href="scheduler_8c.html#a2cd36584fb8713253a7cccb671e022ada2573c3ce38e1d26f8851e85b84f900ac">PROC_FINISHED</a>;</div>
<div class="line"><span class="lineno">  170</span>        <a class="code hl_variable" href="scheduler_8c.html#a2033a3a73326dc816745b1ea83893a01">pcb_pool</a>[i].<a class="code hl_variable" href="structPCB.html#a7abe5eb0b2455398ac4c4fc309f796df">stack</a> = NULL;</div>
<div class="line"><span class="lineno">  171</span>        <a class="code hl_variable" href="scheduler_8c.html#a2033a3a73326dc816745b1ea83893a01">pcb_pool</a>[i].<a class="code hl_variable" href="structPCB.html#ac312c3f3608c730b1661565f8b53d657">next</a> = NULL;</div>
<div class="line"><span class="lineno">  172</span>        <a class="code hl_variable" href="scheduler_8c.html#a2033a3a73326dc816745b1ea83893a01">pcb_pool</a>[i].<a class="code hl_variable" href="structPCB.html#ae788ed31e3946e3557a0c85044e93bc1">pid</a> = -1; </div>
<div class="line"><span class="lineno">  173</span>    }</div>
<div class="line"><span class="lineno">  174</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;Scheduler initialized with %d PCBs\n&quot;</span>, <a class="code hl_define" href="scheduler_8c.html#ad4c770f8a29f82d705f3d34839112bd1">MAX_PROCESS</a>);</div>
<div class="line"><span class="lineno">  175</span>}</div>
<div class="ttc" id="ascheduler_8c_html_a32297afb9a12cc5f5fa8d609cad1f6e4"><div class="ttname"><a href="scheduler_8c.html#a32297afb9a12cc5f5fa8d609cad1f6e4">init_queue</a></div><div class="ttdeci">static void init_queue()</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00055">scheduler.c:55</a></div></div>
<div class="ttc" id="ascheduler_8c_html_a4a9e8e88caa777292eedffe625a1d8ec"><div class="ttname"><a href="scheduler_8c.html#a4a9e8e88caa777292eedffe625a1d8ec">my_mscratch</a></div><div class="ttdeci">static void my_mscratch(reg re)</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00039">scheduler.c:39</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_ab258cc2856e5f6bb125907cc23358fbd_cgraph.png" border="0" usemap="#ascheduler_8c_ab258cc2856e5f6bb125907cc23358fbd_cgraph" alt=""/></div>
<map name="ascheduler_8c_ab258cc2856e5f6bb125907cc23358fbd_cgraph" id="ascheduler_8c_ab258cc2856e5f6bb125907cc23358fbd_cgraph">
<area shape="rect" title=" " alt="" coords="5,55,119,80"/>
<area shape="rect" href="scheduler_8c.html#a32297afb9a12cc5f5fa8d609cad1f6e4" title=" " alt="" coords="177,5,267,31"/>
<area shape="poly" title=" " alt="" coords="103,52,166,32,167,37,105,57"/>
<area shape="rect" href="uart0_8c.html#a35a7eca18d1cb9276ea9e446617f044a" title=" " alt="" coords="175,55,269,80"/>
<area shape="poly" title=" " alt="" coords="119,65,161,65,161,70,119,70"/>
<area shape="rect" href="scheduler_8c.html#a4a9e8e88caa777292eedffe625a1d8ec" title=" " alt="" coords="167,104,277,129"/>
<area shape="poly" title=" " alt="" coords="105,77,167,97,166,102,103,83"/>
<area shape="rect" href="uart0_8c.html#a25101a6b344e02d840568ef3d33b5b08" title=" " alt="" coords="559,55,677,80"/>
<area shape="poly" title=" " alt="" coords="264,52,325,39,418,32,511,39,561,49,560,54,510,45,418,37,326,45,265,57"/>
<area shape="rect" href="uart0_8c.html#a67f62805cb45162f505346cb0ed7d2ef" title=" " alt="" coords="347,55,489,80"/>
<area shape="poly" title=" " alt="" coords="269,65,333,65,333,70,269,70"/>
<area shape="rect" href="uart0_8c.html#ab670ad0f8990c412e0b7ded2e6797f26" title=" " alt="" coords="325,104,511,129"/>
<area shape="poly" title=" " alt="" coords="270,76,354,98,353,103,268,82"/>
<area shape="poly" title=" " alt="" coords="489,65,545,65,545,70,489,70"/>
<area shape="poly" title=" " alt="" coords="470,101,552,81,553,86,471,107"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_ab258cc2856e5f6bb125907cc23358fbd_icgraph.png" border="0" usemap="#ascheduler_8c_ab258cc2856e5f6bb125907cc23358fbd_icgraph" alt=""/></div>
<map name="ascheduler_8c_ab258cc2856e5f6bb125907cc23358fbd_icgraph" id="ascheduler_8c_ab258cc2856e5f6bb125907cc23358fbd_icgraph">
<area shape="rect" title=" " alt="" coords="152,5,265,31"/>
<area shape="rect" href="kernel_8c.html#aa75cd82293c8f20da246e44d5da5f2b5" title=" " alt="" coords="5,5,104,31"/>
<area shape="poly" title=" " alt="" coords="138,21,104,21,104,15,138,15"/>
</map>
</div>

</div>
</div>
<a id="a97dde9d5e0b018feddac600897f80308" name="a97dde9d5e0b018feddac600897f80308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97dde9d5e0b018feddac600897f80308">&#9670;&#160;</a></span>shell()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shell </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="shell_8c_source.html#l00091">91</a> of file <a class="el" href="shell_8c_source.html">shell.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   92</span>{</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordtype">char</span> line[<a class="code hl_define" href="cmd__table_8h.html#a2e69b1ee7e19bfbe378c886f88e60fac">MAX_CMD_LENGTH</a>];</div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordtype">char</span> *argv[<a class="code hl_define" href="cmd__table_8h.html#a29b7451465deac204c5f7cb1f9c6e1fc">MAX_ARGS</a>];</div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordtype">int</span> argc;</div>
<div class="line"><span class="lineno">   96</span>    </div>
<div class="line"><span class="lineno">   97</span>    <span class="comment">// 初始化UART</span></div>
<div class="line"><span class="lineno">   98</span>    <a class="code hl_function" href="kernel__func_8h.html#abbbf5055286d09a73b87f57f71dfd0b9">uart0_init</a>();</div>
<div class="line"><span class="lineno">   99</span>    </div>
<div class="line"><span class="lineno">  100</span>    <a class="code hl_function" href="kernel__func_8h.html#a89c96d63eef7f80bf4e7d1f7f5c31de0">uart0_put_string</a>(<span class="stringliteral">&quot;\nSuep OS Shell v1.0\n&quot;</span>);</div>
<div class="line"><span class="lineno">  101</span>    <a class="code hl_function" href="kernel__func_8h.html#a89c96d63eef7f80bf4e7d1f7f5c31de0">uart0_put_string</a>(<span class="stringliteral">&quot;input &#39;help&#39; to cheack all commands.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  102</span>    </div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><span class="lineno">  104</span>        <a class="code hl_function" href="kernel__func_8h.html#a89c96d63eef7f80bf4e7d1f7f5c31de0">uart0_put_string</a>(<span class="stringliteral">&quot;kernel@SuepOS: &quot;</span>);</div>
<div class="line"><span class="lineno">  105</span>        <a class="code hl_function" href="kernel__func_8h.html#a08fff5c8ca193363d01b12bb487ac47c">readline</a>(line, <a class="code hl_define" href="cmd__table_8h.html#a2e69b1ee7e19bfbe378c886f88e60fac">MAX_CMD_LENGTH</a>);</div>
<div class="line"><span class="lineno">  106</span>        </div>
<div class="line"><span class="lineno">  107</span>        argc = <a class="code hl_function" href="shell_8c.html#a408155cafd9aa3280efc160830720421">parse_command</a>(line, argv);</div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordflow">if</span> (argc &gt; 0) {</div>
<div class="line"><span class="lineno">  109</span>            <a class="code hl_function" href="shell_8c.html#acec6ed36cd72cec4f2dc6561c6eabb85">execute_command</a>(argc, argv);</div>
<div class="line"><span class="lineno">  110</span>        }</div>
<div class="line"><span class="lineno">  111</span>    }</div>
<div class="line"><span class="lineno">  112</span>}</div>
<div class="ttc" id="acmd__table_8h_html_a29b7451465deac204c5f7cb1f9c6e1fc"><div class="ttname"><a href="cmd__table_8h.html#a29b7451465deac204c5f7cb1f9c6e1fc">MAX_ARGS</a></div><div class="ttdeci">#define MAX_ARGS</div><div class="ttdef"><b>Definition</b> <a href="cmd__table_8h_source.html#l00006">cmd_table.h:6</a></div></div>
<div class="ttc" id="acmd__table_8h_html_a2e69b1ee7e19bfbe378c886f88e60fac"><div class="ttname"><a href="cmd__table_8h.html#a2e69b1ee7e19bfbe378c886f88e60fac">MAX_CMD_LENGTH</a></div><div class="ttdeci">#define MAX_CMD_LENGTH</div><div class="ttdef"><b>Definition</b> <a href="cmd__table_8h_source.html#l00005">cmd_table.h:5</a></div></div>
<div class="ttc" id="akernel__func_8h_html_a08fff5c8ca193363d01b12bb487ac47c"><div class="ttname"><a href="kernel__func_8h.html#a08fff5c8ca193363d01b12bb487ac47c">readline</a></div><div class="ttdeci">void readline(char *buffer, int max_length)</div><div class="ttdef"><b>Definition</b> <a href="uart0_8c_source.html#l00187">uart0.c:187</a></div></div>
<div class="ttc" id="akernel__func_8h_html_a89c96d63eef7f80bf4e7d1f7f5c31de0"><div class="ttname"><a href="kernel__func_8h.html#a89c96d63eef7f80bf4e7d1f7f5c31de0">uart0_put_string</a></div><div class="ttdeci">void uart0_put_string(char *s)</div><div class="ttdef"><b>Definition</b> <a href="uart0_8c_source.html#l00059">uart0.c:59</a></div></div>
<div class="ttc" id="akernel__func_8h_html_abbbf5055286d09a73b87f57f71dfd0b9"><div class="ttname"><a href="kernel__func_8h.html#abbbf5055286d09a73b87f57f71dfd0b9">uart0_init</a></div><div class="ttdeci">void uart0_init(void)</div><div class="ttdef"><b>Definition</b> <a href="uart0_8c_source.html#l00041">uart0.c:41</a></div></div>
<div class="ttc" id="ashell_8c_html_a408155cafd9aa3280efc160830720421"><div class="ttname"><a href="shell_8c.html#a408155cafd9aa3280efc160830720421">parse_command</a></div><div class="ttdeci">int parse_command(char *line, char *argv[])</div><div class="ttdef"><b>Definition</b> <a href="shell_8c_source.html#l00007">shell.c:7</a></div></div>
<div class="ttc" id="ashell_8c_html_acec6ed36cd72cec4f2dc6561c6eabb85"><div class="ttname"><a href="shell_8c.html#acec6ed36cd72cec4f2dc6561c6eabb85">execute_command</a></div><div class="ttdeci">void execute_command(int argc, char *argv[])</div><div class="ttdef"><b>Definition</b> <a href="shell_8c_source.html#l00033">shell.c:33</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_a97dde9d5e0b018feddac600897f80308_icgraph.png" border="0" usemap="#ascheduler_8c_a97dde9d5e0b018feddac600897f80308_icgraph" alt=""/></div>
<map name="ascheduler_8c_a97dde9d5e0b018feddac600897f80308_icgraph" id="ascheduler_8c_a97dde9d5e0b018feddac600897f80308_icgraph">
<area shape="rect" title=" " alt="" coords="192,5,245,31"/>
<area shape="rect" href="scheduler_8c.html#aae9516034d9fb70413988eaef2641ccc" title=" " alt="" coords="5,5,144,31"/>
<area shape="poly" title=" " alt="" coords="178,21,144,21,144,15,178,15"/>
</map>
</div>

</div>
</div>
<a id="aae9516034d9fb70413988eaef2641ccc" name="aae9516034d9fb70413988eaef2641ccc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae9516034d9fb70413988eaef2641ccc">&#9670;&#160;</a></span>user_first_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void user_first_process </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00043">43</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>                              {</div>
<div class="line"><span class="lineno">   44</span>    <a class="code hl_function" href="kernel__func_8h.html#a35a7eca18d1cb9276ea9e446617f044a">mini_printf</a>(<span class="stringliteral">&quot;hello from user mode!\n&quot;</span>);</div>
<div class="line"><span class="lineno">   45</span>    <a class="code hl_function" href="scheduler_8c.html#a97dde9d5e0b018feddac600897f80308">shell</a>();</div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">while</span>(1);</div>
<div class="line"><span class="lineno">   47</span>}</div>
<div class="ttc" id="ascheduler_8c_html_a97dde9d5e0b018feddac600897f80308"><div class="ttname"><a href="scheduler_8c.html#a97dde9d5e0b018feddac600897f80308">shell</a></div><div class="ttdeci">void shell()</div><div class="ttdef"><b>Definition</b> <a href="shell_8c_source.html#l00091">shell.c:91</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="scheduler_8c_aae9516034d9fb70413988eaef2641ccc_cgraph.png" border="0" usemap="#ascheduler_8c_aae9516034d9fb70413988eaef2641ccc_cgraph" alt=""/></div>
<map name="ascheduler_8c_aae9516034d9fb70413988eaef2641ccc_cgraph" id="ascheduler_8c_aae9516034d9fb70413988eaef2641ccc_cgraph">
<area shape="rect" title=" " alt="" coords="5,51,144,77"/>
<area shape="rect" href="uart0_8c.html#a35a7eca18d1cb9276ea9e446617f044a" title=" " alt="" coords="192,26,285,51"/>
<area shape="poly" title=" " alt="" coords="144,50,178,45,179,50,145,56"/>
<area shape="rect" href="shell_8c.html#a1b38f8da6a59f8bfdf013c0cf62c5065" title=" " alt="" coords="212,75,265,101"/>
<area shape="poly" title=" " alt="" coords="145,71,199,79,198,85,144,77"/>
<area shape="rect" href="uart0_8c.html#a25101a6b344e02d840568ef3d33b5b08" title=" " alt="" coords="567,26,685,51"/>
<area shape="poly" title=" " alt="" coords="277,23,333,11,426,3,519,11,569,20,568,25,518,16,426,8,334,16,278,28"/>
<area shape="rect" href="uart0_8c.html#a67f62805cb45162f505346cb0ed7d2ef" title=" " alt="" coords="355,26,497,51"/>
<area shape="poly" title=" " alt="" coords="286,36,341,36,341,41,286,41"/>
<area shape="rect" href="uart0_8c.html#ab670ad0f8990c412e0b7ded2e6797f26" title=" " alt="" coords="333,75,519,101"/>
<area shape="poly" title=" " alt="" coords="286,48,334,61,363,69,362,74,333,66,285,54"/>
<area shape="poly" title=" " alt="" coords="497,36,553,36,553,41,497,41"/>
<area shape="poly" title=" " alt="" coords="478,73,560,52,561,57,479,78"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab75489a9459a2c923e3efc841fcf7d0b" name="ab75489a9459a2c923e3efc841fcf7d0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab75489a9459a2c923e3efc841fcf7d0b">&#9670;&#160;</a></span>current_running</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPCB.html">PCB</a>* current_running = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00052">52</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>

</div>
</div>
<a id="aa779e61f1ac9c66068a3145689456090" name="aa779e61f1ac9c66068a3145689456090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa779e61f1ac9c66068a3145689456090">&#9670;&#160;</a></span>next_pid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int next_pid = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00051">51</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>

</div>
</div>
<a id="a2033a3a73326dc816745b1ea83893a01" name="a2033a3a73326dc816745b1ea83893a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2033a3a73326dc816745b1ea83893a01">&#9670;&#160;</a></span>pcb_pool</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPCB.html">PCB</a> pcb_pool[<a class="el" href="scheduler_8c.html#ad4c770f8a29f82d705f3d34839112bd1">MAX_PROCESS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00050">50</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>

</div>
</div>
<a id="a095521d0f7f17f8d6255dfd3e653e9d1" name="a095521d0f7f17f8d6255dfd3e653e9d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a095521d0f7f17f8d6255dfd3e653e9d1">&#9670;&#160;</a></span>pcb_queue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structProcQueue.html">ProcQueue</a> pcb_queue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8c_source.html#l00049">49</a> of file <a class="el" href="scheduler_8c_source.html">scheduler.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
